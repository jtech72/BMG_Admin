"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[712],{712:(e,s,a)=>{a.r(s),a.d(s,{default:()=>A});var l=a(5043),r=a(4556),d=a(3216),i=a(579);var n=a(8467);var t=a(1072),c=a(8602),o=a(8628),x=a(4282),m=a(370),u=a(615),v=a(6798),g=a(3722),h=a(4858),p=a(5449),j=a(5717),f=a(4342);const N=e=>{var s;let{show:a,handleClose:d,categories:t=[],updateBidHandlerloading:c,addBidHandlerloading:o,editData:m=null}=e;const{register:u,handleSubmit:N,formState:{errors:b},reset:y,setValue:A,control:P}=(0,h.mN)(),w=(0,r.d4)((e=>e)),C=null===w||void 0===w?void 0:w.categoryAllDataReducer,B=null===C||void 0===C||null===(s=C.categoryData)||void 0===s?void 0:s.categories;console.log(B,"getCategoriesList");const H=(0,r.wA)();return(0,l.useEffect)((()=>{a&&(H((0,j.Fw)({})),m?(A("categories",null===m||void 0===m?void 0:m.categoryIds),A("minPrice",null===m||void 0===m?void 0:m.minPrice),A("maxPrice",null===m||void 0===m?void 0:m.maxPrice),A("percentage",null===m||void 0===m?void 0:m.percentage)):y({categories:[],minPrice:"",maxPrice:"",percentage:""}))}),[a,m]),console.log(m,"editData"),(0,i.jsxs)(v.A,{show:a,onHide:d,centered:!0,children:[(0,i.jsx)(v.A.Header,{closeButton:!0,children:(0,i.jsxs)(v.A.Title,{children:[m?"Edit":"Add"," Bid Handler"]})}),(0,i.jsx)(v.A.Body,{children:(0,i.jsxs)(g.A,{onSubmit:N((e=>{const{categories:s,...a}=e;H(m?(e=>({type:n.S.EDIT_BID_HANDLER,data:e}))({...a,id:null===m||void 0===m?void 0:m._id,categoryIds:s.map((e=>e._id))}):(e=>({type:n.S.POST_BID_HANDLER,data:e}))({...a,categoryIds:s.map((e=>e._id))})),console.log("Form Data:",e)})),children:[(0,i.jsxs)(g.A.Group,{className:"mb-3",children:[(0,i.jsx)(g.A.Label,{children:"Category"}),(0,i.jsx)(h.xI,{name:"categories",control:P,rules:{required:"Please select at least one category"},render:e=>{let{field:s}=e;return(0,i.jsx)(p.Ay,{...s,isMulti:!0,options:B,getOptionLabel:e=>e.name,getOptionValue:e=>e.name,classNamePrefix:"react-select"})}}),b.categories&&(0,i.jsx)("small",{className:"text-danger",children:b.categories.message})]}),(0,i.jsxs)(g.A.Group,{className:"mb-3",children:[(0,i.jsx)(g.A.Label,{children:"Min Price"}),(0,i.jsx)(g.A.Control,{type:"number",...u("minPrice",{required:"Min price is required",min:{value:0,message:"Price must be positive"},valueAsNumber:!0})}),b.minPrice&&(0,i.jsx)("small",{className:"text-danger",children:b.minPrice.message})]}),(0,i.jsxs)(g.A.Group,{className:"mb-3",children:[(0,i.jsx)(g.A.Label,{children:"Max Price"}),(0,i.jsx)(g.A.Control,{type:"number",...u("maxPrice",{required:"Max price is required",min:{value:0,message:"Price must be positive"},valueAsNumber:!0})}),b.maxPrice&&(0,i.jsx)("small",{className:"text-danger",children:b.maxPrice.message})]}),(0,i.jsxs)(g.A.Group,{className:"mb-3",children:[(0,i.jsx)(g.A.Label,{children:"Percentage"}),(0,i.jsx)(g.A.Control,{type:"number",...u("percentage",{required:"Percentage is required",valueAsNumber:!0,min:{value:1,message:"Min 1%"},max:{value:100,message:"Max 100%"}})}),b.percentage&&(0,i.jsx)("small",{className:"text-danger",children:b.percentage.message})]}),(0,i.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,i.jsx)(x.A,{variant:"secondary",onClick:d,className:"me-2",children:"Cancel"}),(0,i.jsx)(x.A,{disabled:o||c,type:"submit",variant:"primary",children:o||c?(0,i.jsx)(f.N7,{}):"Save"})]})]})})]})};var b=a(1462),y=a(6518);const A=()=>{var e;const s=(0,r.wA)(),[a,v]=(0,l.useState)(!1);(0,l.useEffect)((()=>{var e;s({type:n.S.GET_BID_HANDLER,data:e})}),[a]);(0,d.Zp)();const g=(0,r.d4)((e=>e)),h=null===g||void 0===g?void 0:g.getBidHandlerReducer,p=null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.data,j=null===g||void 0===g?void 0:g.postBidHandlerReducer,f=null===j||void 0===j?void 0:j.data,A=null===g||void 0===g?void 0:g.editBidHandlerReducer,P=null===A||void 0===A?void 0:A.data;console.log(A,"updateBidHandlerReducer");const[w,C]=(0,l.useState)(!1),[B,H]=(0,l.useState)(null);console.log(p,"getBidHandlerListReducer");return(0,l.useEffect)((()=>{const e=null===f||void 0===f?void 0:f.status,a=null===f||void 0===f?void 0:f.message,l=null===f||void 0===f?void 0:f.success;var r;console.log(j,"addBidHandlerSuccess"),void 0!==e&&(l?((0,y.A)(a||"Successfully added!","success"),C(!1),v((e=>!e))):(0,y.A)(a||(null===f||void 0===f?void 0:f.error)||"Something went wrong!","danger"),s({type:n.S.POST_BID_HANDLER_RESET,data:r}))}),[j]),(0,l.useEffect)((()=>{const e=null===P||void 0===P?void 0:P.status,a=null===P||void 0===P?void 0:P.message,l=null===P||void 0===P?void 0:P.success;var r;console.log(P,"updateBidHandlerSuccess"),void 0!==e&&(l?((0,y.A)(a||"Successfully updated!","success"),C(!1),H(null),v((e=>!e))):(0,y.A)(a||P||"Something went wrong!","danger"),s({type:n.S.EDIT_BID_HANDLER_RESET,data:r}))}),[A]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N,{show:w,categories:[{name:"a"},{name:"b"}],handleClose:()=>{C(!1),H(null)},updateBidHandlerloading:null===A||void 0===A?void 0:A.loading,addBidHandlerloading:null===j||void 0===j?void 0:j.loading,editData:B}),(0,i.jsxs)(t.A,{children:[(0,i.jsx)(c.A,{lg:6,className:"d-flex justify-content-start ",children:(0,i.jsxs)("div",{className:"navbar text-dark ",children:[(0,i.jsx)("div",{className:"nav-item",children:"Bid Handler"})," "]})}),(0,i.jsx)("div",{children:(0,i.jsx)(c.A,{xs:12,children:(0,i.jsx)(o.A,{style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset"},children:(0,i.jsxs)(o.A.Body,{className:"text-center",children:[(0,i.jsx)("div",{className:"col d-flex justify-content-end my-3",children:(0,i.jsx)(x.A,{onClick:()=>{C(!0)},children:"Add Bid Handler"})}),p&&p.length>0?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsxs)("table",{className:"table bg-white",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"",style:{color:"#703133"},children:[(0,i.jsx)("th",{scope:"col",children:(0,i.jsx)("i",{className:"mdi mdi-merge"})}),(0,i.jsx)("th",{scope:"col",children:"Categories"}),(0,i.jsx)("th",{scope:"col",children:"Min Price"}),(0,i.jsx)("th",{scope:"col",children:"Max Price"}),(0,i.jsx)("th",{scope:"col",children:"Percentage"}),(0,i.jsx)("th",{scope:"col",children:"Verified"}),(0,i.jsx)("th",{scope:"col",children:"Action"})]})}),(0,i.jsx)("tbody",{children:null===p||void 0===p?void 0:p.map(((e,s)=>{var a,l,r;return(0,i.jsxs)("tr",{className:"text-dark fw-bold text-nowrap",children:[(0,i.jsx)("th",{scope:"row",children:s+1}),(0,i.jsx)("td",{className:"fw-bold text-info",children:(null===e||void 0===e||null===(a=e.categoryIds)||void 0===a?void 0:a.length)>0?null===e||void 0===e||null===(l=e.categoryIds)||void 0===l||null===(r=l.slice(0,4))||void 0===r?void 0:r.map(((s,a)=>(0,i.jsxs)("span",{children:[null===s||void 0===s?void 0:s.name,3===a||a===e.categoryIds.slice(0,4).length-1?"...":", "]},a))):(0,i.jsx)("span",{className:"d-flex text-danger justify-content-center",children:"N/A"})}),(0,i.jsx)("td",{className:"fw-bold text-success",children:null!==e&&void 0!==e&&e.minPrice?(0,i.jsxs)("span",{children:[null===e||void 0===e?void 0:e.minPrice," "]}):(0,i.jsx)("span",{className:"d-flex text-danger justify-content-center",children:"N/A"})}),(0,i.jsx)("td",{className:"fw-bold",children:null!==e&&void 0!==e&&e.maxPrice?(0,i.jsxs)("span",{children:[null===e||void 0===e?void 0:e.maxPrice," "]}):(0,i.jsx)("span",{className:"d-flex text-danger justify-content-center",children:"N/A"})}),(0,i.jsx)("td",{className:"fw-bold text-primary",children:null!==e&&void 0!==e&&e.percentage?(0,i.jsxs)("span",{children:[`${(null===e||void 0===e?void 0:e.percentage)||""}`," "]}):(0,i.jsx)("span",{className:"d-flex text-danger justify-content-center",children:"N/A"})}),(0,i.jsx)("td",{className:"fw-bold",children:null!==e&&void 0!==e&&e.status?(0,i.jsx)("span",{className:`badge ${null!==e&&void 0!==e&&e.status?"bg-success":"bg-danger"} px-2 py-1`,children:null!==e&&void 0!==e&&e.status?"\u2705 Acive":"\u274c In-Active"}):(0,i.jsx)("span",{className:"badge bg-secondary px-2 py-1",children:"N/A"})}),(0,i.jsx)("td",{className:"fw-bold",children:(0,i.jsx)(m.A,{placement:"top",overlay:(0,i.jsx)(u.A,{children:"Edit"}),children:(0,i.jsx)("span",{children:(0,i.jsx)(b.dJk,{onClick:()=>{C(!0),H(e)},size:20,cursor:"pointer"})})})})]},s)}))})]})})}):(0,i.jsx)("div",{className:"text-center d-flex align-items-center justify-content-center",style:{height:"30vh"},children:(0,i.jsx)("code",{className:"fs-4",children:"No Buyer's found."})})]})})})})]})]})}},1778:(e,s,a)=>{a.d(s,{A:()=>r});const l=a(5043).createContext(null);l.displayName="CardHeaderContext";const r=l},8628:(e,s,a)=>{a.d(s,{A:()=>I});var l=a(8139),r=a.n(l),d=a(5043),i=a(7852),n=a(579);const t=d.forwardRef(((e,s)=>{let{className:a,bsPrefix:l,as:d="div",...t}=e;return l=(0,i.oU)(l,"card-body"),(0,n.jsx)(d,{ref:s,className:r()(a,l),...t})}));t.displayName="CardBody";const c=t,o=d.forwardRef(((e,s)=>{let{className:a,bsPrefix:l,as:d="div",...t}=e;return l=(0,i.oU)(l,"card-footer"),(0,n.jsx)(d,{ref:s,className:r()(a,l),...t})}));o.displayName="CardFooter";const x=o;var m=a(1778);const u=d.forwardRef(((e,s)=>{let{bsPrefix:a,className:l,as:t="div",...c}=e;const o=(0,i.oU)(a,"card-header"),x=(0,d.useMemo)((()=>({cardHeaderBsPrefix:o})),[o]);return(0,n.jsx)(m.A.Provider,{value:x,children:(0,n.jsx)(t,{ref:s,...c,className:r()(l,o)})})}));u.displayName="CardHeader";const v=u,g=d.forwardRef(((e,s)=>{let{bsPrefix:a,className:l,variant:d,as:t="img",...c}=e;const o=(0,i.oU)(a,"card-img");return(0,n.jsx)(t,{ref:s,className:r()(d?`${o}-${d}`:o,l),...c})}));g.displayName="CardImg";const h=g,p=d.forwardRef(((e,s)=>{let{className:a,bsPrefix:l,as:d="div",...t}=e;return l=(0,i.oU)(l,"card-img-overlay"),(0,n.jsx)(d,{ref:s,className:r()(a,l),...t})}));p.displayName="CardImgOverlay";const j=p,f=d.forwardRef(((e,s)=>{let{className:a,bsPrefix:l,as:d="a",...t}=e;return l=(0,i.oU)(l,"card-link"),(0,n.jsx)(d,{ref:s,className:r()(a,l),...t})}));f.displayName="CardLink";const N=f;var b=a(4488);const y=(0,b.A)("h6"),A=d.forwardRef(((e,s)=>{let{className:a,bsPrefix:l,as:d=y,...t}=e;return l=(0,i.oU)(l,"card-subtitle"),(0,n.jsx)(d,{ref:s,className:r()(a,l),...t})}));A.displayName="CardSubtitle";const P=A,w=d.forwardRef(((e,s)=>{let{className:a,bsPrefix:l,as:d="p",...t}=e;return l=(0,i.oU)(l,"card-text"),(0,n.jsx)(d,{ref:s,className:r()(a,l),...t})}));w.displayName="CardText";const C=w,B=(0,b.A)("h5"),H=d.forwardRef(((e,s)=>{let{className:a,bsPrefix:l,as:d=B,...t}=e;return l=(0,i.oU)(l,"card-title"),(0,n.jsx)(d,{ref:s,className:r()(a,l),...t})}));H.displayName="CardTitle";const S=H,R=d.forwardRef(((e,s)=>{let{bsPrefix:a,className:l,bg:d,text:t,border:o,body:x=!1,children:m,as:u="div",...v}=e;const g=(0,i.oU)(a,"card");return(0,n.jsx)(u,{ref:s,...v,className:r()(l,g,d&&`bg-${d}`,t&&`text-${t}`,o&&`border-${o}`),children:x?(0,n.jsx)(c,{children:m}):m})}));R.displayName="Card";const I=Object.assign(R,{Img:h,Title:S,Subtitle:P,Body:c,Link:N,Text:C,Header:v,Footer:x,ImgOverlay:j})}}]);
//# sourceMappingURL=712.5e7157ef.chunk.js.map