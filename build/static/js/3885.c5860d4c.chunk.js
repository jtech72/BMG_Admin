"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[3885],{3885:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var t=a(5043),l=a(1072),o=a(8602),r=a(8628),i=a(4282),n=a(6798),d=a(3519),c=a(4556),u=a(5009),x=a(4342),g=a(5717),h=a(4476),m=a(579);const v=e=>{let{connectTab:s}=e;const[a,l]=(0,t.useState)("Categories"),o=(e,t)=>{e!==a&&(l(e),s(t))};return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"navbar text-dark ",children:[(0,m.jsx)("div",{className:"nav-item "+("Categories"===a?"active":""),onClick:()=>o("Categories",0),children:"Categories"}),(0,m.jsx)("div",{className:"nav-item "+("Sub-Categories"===a?"active":""),onClick:()=>o("Sub-Categories",1),children:"Sub Categories"})]})})};var p=a(3722),j=a(5449);const b=e=>{var s,a,l,o,r,d;let{show:u,handleClose:x,allSubCategories:g=[],onSubmit:h,newSubCategory:v,setNewSubCategory:b,addedCategories:y,setAddedCategories:N,modalCheck:C,setModalCheck:f,selectedCategories:A,setSelectedCategories:S}=e;const k=(0,c.d4)((e=>e)),[w,D]=(0,t.useState)(""),[R,I]=(0,t.useState)(""),[P,F]=(0,t.useState)(""),[_,E]=(0,t.useState)([]),[M,z]=(0,t.useState)("");(0,t.useEffect)((()=>{w==P&&z("")}),[w,P]);const G=(null===k||void 0===k||null===(s=k.subCategoryDataReducer)||void 0===s||null===(a=s.categoryData)||void 0===a||null===(l=a.subCategories)||void 0===l?void 0:l.map((e=>({label:null===e||void 0===e?void 0:e.subCategoryName,value:null===e||void 0===e?void 0:e._id}))))||[],L=(null===k||void 0===k||null===(o=k.categoryDataReducer)||void 0===o||null===(r=o.categoryData)||void 0===r||null===(d=r.groupedCategories)||void 0===d?void 0:d.map((e=>({label:null===e||void 0===e?void 0:e.categoryName,value:null===e||void 0===e?void 0:e._id}))))||[],T="Sub-category"===C?G:L;(0,t.useEffect)((()=>{u||(f(""),E([]),I(""),D(""),F(""),S([]),b(""),z(""))}),[u]);return console.log(R,"kjhgfdsdfghj\u02da"),(0,m.jsxs)(n.A,{show:u,onHide:x,centered:!0,children:[(0,m.jsx)(n.A.Header,{closeButton:!0,children:(0,m.jsxs)(n.A.Title,{children:["Add ","Sub-category"==C&&"Sub-","Category"]})}),(0,m.jsxs)(p.A,{onSubmit:e=>{if(e.preventDefault(),w!==P)return void z("Category names do not match!");if(0===_.length&&"Sub-category"===C)return void I("Please select at least one subcategory.");const s={categoryName:w,subCategories:_.map((e=>e.value))};null===h||void 0===h||h(s),D(""),F(""),E([]),I("")},children:[(0,m.jsxs)(n.A.Body,{children:[C?(0,m.jsxs)(p.A.Group,{className:"mb-3",children:[(0,m.jsx)(p.A.Label,{children:"Assign Category"}),(0,m.jsx)(j.Ay,{value:A,options:T,onChange:S,classNamePrefix:"react-select"})]}):(0,m.jsxs)(p.A.Group,{className:"mb-3",children:[(0,m.jsx)(p.A.Label,{children:"Category Name"}),(0,m.jsx)(p.A.Control,{type:"text",value:w,onChange:e=>D(e.target.value),required:!0})]}),!C&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(p.A.Group,{className:"mb-3",children:[(0,m.jsx)(p.A.Label,{children:"Confirm Category Name"}),(0,m.jsx)(p.A.Control,{type:"text",value:P,onChange:e=>F(e.target.value),required:!0}),M&&(0,m.jsx)("p",{className:"text-danger",children:M})]})}),(0,m.jsxs)(p.A.Group,{className:"mb-3",children:[(0,m.jsx)(p.A.Label,{children:"Selected New Subcategories"}),C?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.Ay,{isMulti:!0,value:_,options:C?[]:G,onChange:e=>{E(e),I("")},menuIsOpen:!C,isClearable:!0,classNamePrefix:"react-select",components:{DropdownIndicator:C?()=>null:void 0}}),R&&(0,m.jsx)("p",{className:"text-danger mt-1",children:R})]}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(j.Ay,{isMulti:!0,value:_,options:G,onChange:e=>{E(e),I("")},classNamePrefix:"react-select"})})]}),(0,m.jsxs)(p.A.Group,{className:"mb-3 d-flex",children:[(0,m.jsx)(p.A.Control,{type:"text",placeholder:"Add new subcategory",value:v,onChange:e=>b(e.target.value)}),(0,m.jsx)(i.A,{type:"button",onClick:()=>{if(""!==v.trim()){N((e=>[...e,v]));const e={label:v,value:v};E((s=>[...s,e])),b("")}},className:"ms-2",children:"Add"})]})]}),(0,m.jsxs)(n.A.Footer,{children:[(0,m.jsx)(i.A,{variant:"secondary",onClick:x,children:"Cancel"}),(0,m.jsx)(i.A,{variant:"primary",type:"submit",children:"Save Category"})]})]})]})};var y=a(6518);const N=()=>{var e,s,a,p,j,N,C,f,A,S;const k=(0,c.d4)((e=>e)),w=(0,c.wA)(),[D,R]=(0,t.useState)(""),I=null===k||void 0===k||null===(e=k.categoryDataReducer)||void 0===e||null===(s=e.categoryData)||void 0===s?void 0:s.groupedCategories;console.log({store:k});const P=null===k||void 0===k||null===(a=k.subCategoryDataReducer)||void 0===a||null===(p=a.categoryData)||void 0===p?void 0:p.subCategories,F=null===k||void 0===k||null===(j=k.categoryDataReducer)||void 0===j?void 0:j.loading,_=null===k||void 0===k||null===(N=k.subCategoryDataReducer)||void 0===N?void 0:N.loading,[E,M]=(0,t.useState)(0),[z,G]=(0,t.useState)(0),[L,T]=(0,t.useState)(!1),[B,H]=(0,t.useState)(1),[q,O]=(0,t.useState)(10),[U,W]=(0,t.useState)(Math.ceil(z/q));(0,t.useEffect)((()=>{W(Math.ceil(z/q))}),[z,q]),(0,t.useEffect)((()=>{0===E?w((0,g.Wp)({search:D,limit:q,page:B})):1===E&&w((0,g.mp)({search:D,limit:q,page:B}))}),[w,E,B,q,D]),(0,t.useEffect)((()=>{var e,s;if(0===E)G((null===k||void 0===k||null===(e=k.categoryDataReducer)||void 0===e||null===(s=e.categoryData)||void 0===s?void 0:s.totalRecords)||0),H(1);else if(1===E){var a,t;G((null===k||void 0===k||null===(a=k.subCategoryDataReducer)||void 0===a||null===(t=a.categoryData)||void 0===t?void 0:t.totalRecords)||0),H(1)}}),[null===k||void 0===k||null===(C=k.categoryDataReducer)||void 0===C||null===(f=C.categoryData)||void 0===f?void 0:f.totalRecords,null===k||void 0===k||null===(A=k.subCategoryDataReducer)||void 0===A||null===(S=A.categoryData)||void 0===S?void 0:S.totalRecords,E,L]);const V=e=>{if(!e)return"";return new Date(e).toLocaleString("en-US",{weekday:"short",month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})},[Z,$]=(0,t.useState)(!1),[J,K]=(0,t.useState)(null),[Q,X]=(0,t.useState)(null),[Y,ee]=(0,t.useState)(""),[se,ae]=(0,t.useState)(!1);(0,t.useEffect)((()=>{se&&("sub-category"===Y.toLowerCase()?(console.log(Y,"modalCheckmodalCheck1"),w((0,g.Wp)({search:D,limit:"",page:B}))):(console.log(Y,"modalCheckmodalCheck2"),w((0,g.mp)({search:D,limit:"",page:B}))))}),[se,Y]);const[te,le]=(0,t.useState)([]),[oe,re]=(0,t.useState)([]),[ie,ne]=(0,t.useState)(""),[de,ce]=(0,t.useState)([]),ue=null===k||void 0===k?void 0:k.createCategoryDataReducer;console.log(ue,"createCategoryReducer"),(0,t.useEffect)((()=>{var e;if(null!==ue&&void 0!==ue&&null!==(e=ue.categoryData)&&void 0!==e&&e.status){var s,a,t;if(200==(null===ue||void 0===ue||null===(s=ue.categoryData)||void 0===s?void 0:s.status))if((null===de||void 0===de?void 0:de.length)>0)w((0,g.mk)({subCategoryNames:de,categoryId:null===ue||void 0===ue||null===(a=ue.categoryData)||void 0===a||null===(t=a.newCategory)||void 0===t?void 0:t._id}));else(0,y.A)("Successfully Added","success"),ae(!1);else(0,y.A)(null===ue||void 0===ue?void 0:ue.error,"error");w((0,g.Z7)())}}),[ue]);const xe=null===k||void 0===k?void 0:k.createSubCategoryDataReducer;(0,t.useEffect)((()=>{var e;if(null!==xe&&void 0!==xe&&null!==(e=xe.categoryData)&&void 0!==e&&e.status){var s,a;if(200==(null===xe||void 0===xe||null===(s=xe.categoryData)||void 0===s?void 0:s.status))(0,y.A)("Successfully added!","success"),ae(!1),T((e=>!e));else(0,y.A)((null===xe||void 0===xe||null===(a=xe.categoryData)||void 0===a?void 0:a.message)||"error");w((0,g.fq)())}}),[xe]),console.log(de,"addedCategoriesaddedCategories");return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b,{selectedCategories:oe,setSelectedCategories:re,addedCategories:de,setAddedCategories:ce,newSubCategory:ie,setNewSubCategory:ne,onSubmit:e=>{Y?w((0,g.mk)({subCategoryNames:de,categoryId:null===oe||void 0===oe?void 0:oe.value})):(w((0,g._U)({name:null===e||void 0===e?void 0:e.categoryName})),le(null===e||void 0===e?void 0:e.subCategories)),console.log(e,"data")},show:se,handleClose:()=>ae(!1),allSubCategories:P,modalCheck:Y,setModalCheck:ee}),(0,m.jsx)(u.A,{breadCrumbItems:[{label:""+(0===E?"Categories":"Sub-Categories"),path:"/bmg/categories",active:!0}],title:"Categories"}),(0,m.jsxs)(l.A,{children:[(0,m.jsx)(o.A,{lg:6,className:"d-flex justify-content-start ",children:(0,m.jsx)(v,{connectTab:e=>{M(e)}})}),(0,m.jsx)("div",{children:0===E?(0,m.jsx)(o.A,{xs:12,children:(0,m.jsx)(r.A,{style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset"},children:(0,m.jsxs)(r.A.Body,{className:"text-center",children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,m.jsxs)("span",{className:"px-3 py-1 bg-dark text-light rounded",children:["Total Categories: ",z]}),(0,m.jsxs)("div",{className:"d-flex",children:[(0,m.jsx)(i.A,{onClick:()=>ae(!0),className:"me-2",children:"Add Category"}),(0,m.jsx)("input",{type:"text",className:"form-control w-auto me-1",placeholder:"Search...",value:D,onChange:e=>R(e.target.value)}),D&&(0,m.jsx)("i",{className:"mdi mdi-backspace-outline text-danger fs-3",onClick:()=>R(""),style:{cursor:"pointer"}})]})]}),F?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(x.Rh,{})}):(0,m.jsx)(m.Fragment,{children:I&&(null===I||void 0===I?void 0:I.length)>0?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-striped bg-white",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{className:"",style:{color:"#703133"},children:[(0,m.jsx)("th",{scope:"col",children:(0,m.jsx)("i",{className:"mdi mdi-merge"})}),(0,m.jsx)("th",{scope:"col",children:"Category Name"}),(0,m.jsx)("th",{scope:"col",children:"Sub Categories"}),(0,m.jsx)("th",{scope:"col",children:"Created At"})]})}),(0,m.jsx)("tbody",{children:null===I||void 0===I?void 0:I.map(((e,s)=>{var a;return(0,m.jsxs)("tr",{className:"text-dark fw-bold text-nowrap",children:[(0,m.jsx)("th",{scope:"row",children:10*(B-1)+s+1}),(0,m.jsx)("td",{className:"text-uppercase fw-bold text-success",children:null!==e&&void 0!==e&&e.categoryName?(0,m.jsxs)("span",{children:[null===e||void 0===e?void 0:e.categoryName," "]}):(0,m.jsx)("span",{className:"d-flex text-danger justify-content-center",children:"N/A"})}),(0,m.jsx)("td",{className:"text-uppercase fw-bold text-success",children:(null===e||void 0===e||null===(a=e.subCategories)||void 0===a?void 0:a.length)>0?(0,m.jsxs)("span",{style:{cursor:"pointer",color:"crimson"},onMouseOver:e=>e.target.style.color="rgb(10 207 151)",onMouseOut:e=>e.target.style.color="crimson",onClick:()=>{return s=e,console.log({category:s}),void(s&&(K(null===s||void 0===s?void 0:s.categoryName),X(null===s||void 0===s?void 0:s.subCategories),$(!0)));var s},children:[" ","View Sub Categories"]}):(0,m.jsx)("span",{className:"d-flex text-danger justify-content-center",children:"N/A"})}),(0,m.jsx)("td",{className:"text-uppercase fw-bold text-primary",children:null!==e&&void 0!==e&&e.createdAt?(0,m.jsxs)("span",{children:[V(null===e||void 0===e?void 0:e.createdAt)," "]}):(0,m.jsx)("span",{className:"d-flex text-danger justify-content-center",children:"N/A"})})]},s)}))})]})})}):(0,m.jsx)("div",{className:"text-center d-flex align-items-center justify-content-center",style:{height:"30vh"},children:(0,m.jsx)("code",{className:"fs-4",children:"No Categories found."})})}),(0,m.jsx)(h.A,{pageIndex:B,pageSize:q,totalPages:U,setPageIndex:H,onChangePageSize:O})]})})}):1===E?(0,m.jsx)(o.A,{xs:12,children:(0,m.jsx)(r.A,{style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset"},children:(0,m.jsxs)(r.A.Body,{className:"text-center",children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,m.jsxs)("span",{className:"px-3 py-1 bg-dark text-light rounded",children:["Total Sub Categories: ",z]}),(0,m.jsxs)("div",{className:"d-flex",children:[(0,m.jsx)(i.A,{onClick:()=>{ae(!0),ee("Sub-category")},className:"me-2",children:"Add Sub-Category"}),(0,m.jsx)("input",{type:"text",className:"form-control w-auto me-1",placeholder:"Search...",value:D,onChange:e=>R(e.target.value)}),D&&(0,m.jsx)("i",{className:"mdi mdi-backspace-outline text-danger fs-3",onClick:()=>R(""),style:{cursor:"pointer"}})]})]}),_?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(x.Rh,{})}):(0,m.jsx)(m.Fragment,{children:P&&(null===P||void 0===P?void 0:P.length)>0?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-striped bg-white",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{className:"",style:{color:"#703133"},children:[(0,m.jsx)("th",{scope:"col",children:(0,m.jsx)("i",{className:"mdi mdi-merge"})}),(0,m.jsx)("th",{scope:"col",children:"Sub-Category Name"}),(0,m.jsx)("th",{scope:"col",children:"Category Name"}),(0,m.jsx)("th",{scope:"col",children:"Created At"})]})}),(0,m.jsx)("tbody",{children:null===P||void 0===P?void 0:P.map(((e,s)=>{var a,t;return(0,m.jsxs)("tr",{className:"text-dark fw-bold text-nowrap",children:[(0,m.jsx)("th",{scope:"row",children:s+1}),(0,m.jsx)("td",{className:"text-uppercase fw-bold text-success",children:null!==e&&void 0!==e&&e.subCategoryName?(0,m.jsxs)("span",{children:[null===e||void 0===e?void 0:e.subCategoryName," "]}):(0,m.jsx)("span",{className:"d-flex text-danger justify-content-center",children:"N/A"})}),(0,m.jsx)("td",{className:"text-uppercase fw-bold text-danger",children:null!==e&&void 0!==e&&null!==(a=e.categoryId)&&void 0!==a&&a.name?(0,m.jsxs)("span",{children:[null===e||void 0===e||null===(t=e.categoryId)||void 0===t?void 0:t.name," "]}):(0,m.jsx)("span",{className:"d-flex text-danger justify-content-center",children:"N/A"})}),(0,m.jsx)("td",{className:"text-uppercase fw-bold text-primary",children:null!==e&&void 0!==e&&e.createdAt?(0,m.jsxs)("span",{children:[V(null===e||void 0===e?void 0:e.createdAt)," "]}):(0,m.jsx)("span",{className:"d-flex text-danger justify-content-center",children:"N/A"})})]},s)}))})]})})}):(0,m.jsx)("div",{className:"text-center d-flex align-items-center justify-content-center",style:{height:"30vh"},children:(0,m.jsx)("code",{className:"fs-4",children:"No Sub Category found."})})}),(0,m.jsx)(h.A,{pageIndex:B,pageSize:q,totalPages:U,setPageIndex:H,onChangePageSize:O})]})})}):null})]}),(0,m.jsxs)(n.A,{show:Z,onHide:()=>$(!1),centered:!0,size:"lg",children:[(0,m.jsxs)(n.A.Header,{className:"px-2 py-1 text-light",style:{backgroundColor:"#008003"},children:[(0,m.jsxs)(n.A.Title,{className:"fw-semibold",children:["Sub Categories in ",J," (",null===Q||void 0===Q?void 0:Q.length,")"]}),(0,m.jsx)("i",{className:"mdi mdi-close fs-3",onClick:()=>$(!1),style:{cursor:"pointer"}})]}),(0,m.jsx)(n.A.Body,{children:Q&&(null===Q||void 0===Q?void 0:Q.length)>0?(0,m.jsx)(d.A,{children:(0,m.jsxs)("table",{className:"table table-striped rounded shadow-sm",children:[(0,m.jsx)("thead",{className:"bg-success text-light",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{scope:"col",className:"px-3 py-2",children:"#"}),(0,m.jsx)("th",{scope:"col",className:"px-3 py-2",children:"Sub Category"})]})}),(0,m.jsx)("tbody",{children:null===Q||void 0===Q?void 0:Q.map(((e,s)=>(0,m.jsxs)("tr",{className:"align-middle",children:[(0,m.jsx)("td",{className:"px-3 py-2 fw-bold",children:s+1}),(0,m.jsx)("td",{className:"px-3 py-2",children:(null===e||void 0===e?void 0:e.name)||"N/A"})]},s)))})]})}):(0,m.jsx)("div",{className:"text-center text-muted py-3",children:"No products available."})})]})]})}},4476:(e,s,a)=>{a.d(s,{A:()=>r});var t=a(5043),l=a(5475),o=a(579);const r=e=>{let{pageIndex:s,pageSize:a,totalPages:r,setPageIndex:i,onChangePageSize:n}=e;return(0,t.useEffect)((()=>{s>r&&i(Math.max(1,r))}),[s,r,i]),(0,o.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1 pt-2",children:[(0,o.jsxs)("div",{className:"d-inline-block me-3",children:[(0,o.jsx)("label",{className:"me-1",children:"Display :"}),(0,o.jsx)("select",{value:a,onChange:e=>{const s=Number(e.target.value);n(s),i(1)},className:"form-select d-inline-block w-auto",children:[10,20,50,100].map((e=>(0,o.jsx)("option",{value:e,children:e},e)))})]}),(0,o.jsxs)("span",{className:"me-3",children:["Page"," ",(0,o.jsxs)("strong",{children:[s," of ",r]})]}),(0,o.jsx)("label",{children:"Go to page: "}),(0,o.jsx)("input",{type:"number",placeholder:`${s}`,min:"1",max:r,onChange:e=>{const s=Number(e.target.value);s>=1&&s<=r&&i(s)},className:"form-control ms-1 d-inline-block",style:{width:"80px"}}),(0,o.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0 pe-4",children:[s>1&&(0,o.jsx)("li",{className:"page-item",onClick:()=>i(s-1),children:(0,o.jsx)(l.N_,{to:"#",className:"page-link",children:"Previous"})}),Array.from({length:r}).map(((e,a)=>{const t=a+1,n=t===s;return r<=5||t>=s-1&&t<=s+1||(1===t||t===r)?(0,o.jsx)("li",{className:"page-item "+(n?"active":""),onClick:()=>i(t),children:(0,o.jsx)(l.N_,{to:"#",className:"page-link",children:t})},t):2===t&&s>=5||t===r-1&&s<=r-4?(0,o.jsx)("li",{className:"page-item disabled",children:(0,o.jsx)(l.N_,{to:"#",className:"page-link px-0",children:"..."})},t):null})),s<r&&(0,o.jsx)("li",{className:"page-item",onClick:()=>i(s+1),children:(0,o.jsx)(l.N_,{to:"#",className:"page-link",children:"Next"})})]})]})}},5009:(e,s,a)=>{a.d(s,{A:()=>i});a(5043);var t=a(1072),l=a(8602),o=a(9397),r=a(579);const i=e=>(0,r.jsx)(t.A,{children:(0,r.jsx)(l.A,{children:(0,r.jsxs)("div",{className:"page-title-box",children:[(0,r.jsx)("div",{className:"page-title-right",children:(0,r.jsxs)(o.A,{listProps:{className:"m-0"},children:[(0,r.jsx)(o.A.Item,{href:"/",children:"Dashboard"}),e.breadCrumbItems.map(((e,s)=>e.active?(0,r.jsx)(o.A.Item,{active:!0,style:{color:"#703133"},children:e.label},s):(0,r.jsx)(o.A.Item,{href:e.path,children:e.label},s)))]})}),(0,r.jsx)("h4",{className:"page-title",style:{color:"#703133"},children:e.title})]})})})}}]);
//# sourceMappingURL=3885.c5860d4c.chunk.js.map