"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[5261],{5261:(e,s,l)=>{l.r(s),l.d(s,{default:()=>f});var t=l(9379),n=l(5043),r=l(3519),a=l(2435),d=l(1428),i=l(1072),o=l(8602),c=l(4196),u=l(7491),h=l(1462),m=l(5200),x=l(4556),p=l(5475),v=l(4858),g=(l(6518),l(6058)),j=l(7881),y=l(184),N=l(4342),b=l(579);const f=()=>{var e,s,l,f,A,w,I,S,D,E,k,T;const C=(0,x.d4)(e=>e),R=(0,x.wA)(),[W,P]=(0,n.useState)("auction"),{register:L,handleSubmit:U,reset:F,setValue:O,formState:{errors:K}}=((0,j.Ux)(),(0,v.mN)()),[M,V]=(0,n.useState)(!1),[_,G]=(0,n.useState)(null),[z,H]=(0,n.useState)(0),[q,B]=(0,n.useState)(null),Y=null===C||void 0===C?void 0:C.puchaseHistoryListReducer,J=null===C||void 0===C||null===(e=C.getBuyOrderReducer)||void 0===e||null===(s=e.data)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.result,Q=null===C||void 0===C?void 0:C.addRatingAndReviewReducer,X=null!==(f=null===Y||void 0===Y||null===(A=Y.data)||void 0===A||null===(w=A.data)||void 0===w?void 0:w.currentPage)&&void 0!==f?f:1,Z=null!==(I=null===Y||void 0===Y||null===(S=Y.data)||void 0===S||null===(D=S.data)||void 0===D?void 0:D.totalPages)&&void 0!==I?I:1,$=e=>{e&&(G(e),H(0),F(),V(!0))};(0,n.useEffect)(()=>{},[R]);const[ee,se]=(0,n.useState)("auction");return(0,b.jsx)(r.A,{fluid:!0,className:"ps-lg-5 pe-lg-5",style:{marginTop:"6rem"},children:null!==Y&&void 0!==Y&&Y.loading?(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",fontWeight:"bold",fontSize:"18px"}}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(a.A.Container,{activeKey:ee,onSelect:e=>{se(e)},children:[(0,b.jsxs)(d.A,{variant:"pills",className:"d-flex justify-content-md-between custom-nav-tab rounded shadow border-bottom mx-4",style:{width:"220px",backgroundColor:"rgba(255, 255, 255, 1)"},children:[(0,b.jsx)(d.A.Item,{className:"text-center",children:(0,b.jsx)(d.A.Link,{eventKey:"auction",children:"Auction"})}),(0,b.jsx)(d.A.Item,{className:"text-center",children:(0,b.jsx)(d.A.Link,{eventKey:"buynow",children:"Direct Buy"})})]}),(0,b.jsxs)(a.A.Content,{children:[(0,b.jsx)(a.A.Pane,{eventKey:"auction",children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(i.A,{className:"pe-lg-4 ps-lg-4 mx-auto",children:[(0,b.jsx)(o.A,{md:6,xs:6,children:(0,b.jsx)("h1",{className:"account-title mt-4 text-start px-0",children:"Purchases History"})}),(0,b.jsx)(o.A,{md:6,xs:6,className:"d-flex justify-content-end",children:(0,b.jsxs)("div",{className:"div-search border mt-lg-4 mt-3 rounded-pill p-1 d-flex align-items-center",style:{background:"transparent"},children:[(0,b.jsx)("input",{type:"search",className:"border-0 px-3 w-100 flex-grow-1",placeholder:"Search",name:"search",id:"search",style:{outline:"none",fontSize:"13px",background:"transparent",fontWeight:"400",fontFamily:"Poppins"}}),(0,b.jsx)(m.CKj,{className:"me-3"})]})})]}),(0,b.jsx)(i.A,{className:"pe-lg-4 mx-auto ps-lg-4",children:(0,b.jsx)(o.A,{md:12,children:(0,b.jsxs)(c.A,{responsive:!0,border:"1",hover:!0,className:"w-100",children:[(0,b.jsx)("thead",{className:" ",style:{border:"1px solid rgba(189, 185, 185, 0.2)",borderRadius:"13px 13px 0px 0px !important"},children:(0,b.jsxs)("tr",{className:"",children:[(0,b.jsx)("th",{className:"ps-5 table-heading ",children:"ORDER ID"}),(0,b.jsx)("th",{className:"table-heading ",children:"STATUS"}),(0,b.jsx)("th",{className:" table-heading",children:"PAYMENT METHOD"}),(0,b.jsx)("th",{className:" table-heading",children:"NAME"}),(0,b.jsx)("th",{className:" table-heading",children:"DATE"}),(0,b.jsx)("th",{className:"table-heading ",children:"TOTAL"}),(0,b.jsx)("th",{className:" table-heading",children:"RATING"}),(0,b.jsx)("th",{className:" table-heading",children:"REVIEW"}),(0,b.jsx)("th",{className:" table-heading",children:"ADD RATING "}),(0,b.jsx)("th",{className:" table-heading",children:"INVOICE"}),(0,b.jsx)("th",{className:"table-heading ",children:"ACTION"})]})}),(0,b.jsx)("tbody",{className:" border",children:null===J||void 0===J?void 0:J.map((e,s)=>{var l,t,n,r,a,d,i,o;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-3 carousel-desc ps-5",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.orderId}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",color:"PENDING"===(null===e||void 0===e?void 0:e.status)?"green":"DELIVERED"===(null===e||void 0===e?void 0:e.status)?"yellow":"CANCELLED"===(null===e||void 0===e?void 0:e.status)?"red":"black"},children:(null===e||void 0===e?void 0:e.deliveryStatus)&&e.deliveryStatus.charAt(0).toUpperCase()+e.deliveryStatus.slice(1)}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.paymentMethod}),(0,b.jsxs)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:[null===e||void 0===e||null===(l=e.userId)||void 0===l?void 0:l.name," ",null===e||void 0===e||null===(t=e.userId)||void 0===t?void 0:t.lastName]}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:new Date(null===e||void 0===e?void 0:e.orderDate).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(null===e||void 0===e?void 0:e.totalPrice)||0)}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:null!==e&&void 0!==e&&null!==(n=e.productId)&&void 0!==n&&null!==(r=n.review)&&void 0!==r&&r.rating?[...Array(5)].map((s,l)=>(0,b.jsx)("span",{style:{color:"#FFD700"},children:l<e.productId.review.rating?(0,b.jsx)(y.gt3,{}):(0,b.jsx)(y.wei,{})},l)):"N/A"}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",cursor:"pointer"},title:null===e||void 0===e||null===(a=e.productId)||void 0===a||null===(d=a.review)||void 0===d?void 0:d.comment,children:null!==e&&void 0!==e&&null!==(i=e.productId)&&void 0!==i&&null!==(o=i.review)&&void 0!==o&&o.comment?e.productId.review.comment.length>20?e.productId.review.comment.slice(0,20)+"...":e.productId.review.comment:"N/A"}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",cursor:"pointer"},onClick:()=>$(e),children:(0,b.jsx)(g.fKN,{className:"fs-3"})}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",cursor:"pointer"},children:(0,b.jsx)("a",{href:null===e||void 0===e?void 0:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:(0,b.jsx)(y.TlC,{className:"fs-4",color:"rgb(74, 118, 82)"})})}),(0,b.jsx)("td",{className:" py-3",children:(0,b.jsx)(p.N_,{to:"/bmg/orderdetail/".concat(e.orderId),state:{orderDetails:e,activeTab:ee},className:"nav-link",children:(0,b.jsx)(h.JPe,{className:"ms-4",style:{cursor:"pointer",color:"rgba(74, 118, 82, 1)"}})})})]},s)})})]})})}),Z>1&&(0,b.jsxs)(u.A,{className:"justify-content-center mt-3 custom-pagination",children:[(0,b.jsx)(u.A.Prev,{disabled:1===X,children:"Previous"}),[...Array(Z)].map((e,s)=>(0,b.jsx)(u.A.Item,{active:s+1===X,children:s+1},s)),(0,b.jsx)(u.A.Next,{disabled:X===Z,children:"Next"})]})]})}),(0,b.jsx)(a.A.Pane,{eventKey:"buynow",children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(i.A,{className:"px-lg-4 mx-auto",children:[(0,b.jsx)(o.A,{md:6,xs:6,children:(0,b.jsx)("h1",{className:"account-title mt-4 text-start px-0",children:"Direct Buy"})}),(0,b.jsx)(o.A,{md:6,xs:6,className:"d-flex justify-content-end",children:(0,b.jsxs)("div",{className:"div-search border mt-lg-4 mt-3 rounded-pill p-1 d-flex align-items-center",style:{background:"transparent"},children:[(0,b.jsx)("input",{type:"search",className:"border-0 px-3 w-100 flex-grow-1",placeholder:"Search",name:"search",id:"search",style:{outline:"none",fontSize:"13px",background:"transparent",fontWeight:"400",fontFamily:"Poppins"}}),(0,b.jsx)(m.CKj,{className:"me-3"})]})})]}),(0,b.jsx)(i.A,{className:"px-lg-4 mx-auto",children:(0,b.jsx)(o.A,{md:12,children:(0,b.jsxs)(c.A,{responsive:!0,border:"1",hover:!0,className:"w-100",children:[(0,b.jsx)("thead",{className:" ",style:{border:"1px solid rgba(189, 185, 185, 0.2)",borderRadius:"13px 13px 0px 0px !important"},children:(0,b.jsxs)("tr",{className:"",children:[(0,b.jsx)("th",{className:"ps-5 table-heading",children:"ORDER ID"}),(0,b.jsx)("th",{className:"table-heading",children:"STATUS"}),(0,b.jsx)("th",{className:"table-heading",children:"QUANTITY"}),(0,b.jsx)("th",{className:"table-heading",children:"PAYMENT METHOD"}),(0,b.jsx)("th",{className:"table-heading",children:"DATE"}),(0,b.jsx)("th",{className:"table-heading",children:"TOTAL"}),(0,b.jsx)("th",{className:"table-heading",children:"RATING"}),(0,b.jsx)("th",{className:"table-heading",children:"REVIEW"}),(0,b.jsx)("th",{className:"table-heading",children:"ADD RATING "}),(0,b.jsx)("th",{className:"table-heading",children:"INVOICE"}),(0,b.jsx)("th",{className:"table-heading",children:"ACTION"})]})}),(0,b.jsx)("tbody",{className:" border",children:null===Y||void 0===Y||null===(E=Y.data)||void 0===E||null===(k=E.data)||void 0===k||null===(T=k.orders)||void 0===T?void 0:T.map((e,s)=>{var l,t,n,r,a,d;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:" py-3 carousel-desc ps-5",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.orderId}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",color:"PENDING"===(null===e||void 0===e?void 0:e.status)?"green":"DELIVERED"===(null===e||void 0===e?void 0:e.status)?"yellow":"CANCELLED"===(null===e||void 0===e?void 0:e.status)?"red":"black"},children:(null===e||void 0===e?void 0:e.deliveryStatus)&&e.deliveryStatus.charAt(0).toUpperCase()+e.deliveryStatus.slice(1)}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.quantity}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.paymentMethod}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:new Date(e.createdAt).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(null===e||void 0===e?void 0:e.totalPrice)||0)}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:null!==e&&void 0!==e&&null!==(l=e.productId)&&void 0!==l&&null!==(t=l.review)&&void 0!==t&&t.rating?[...Array(5)].map((s,l)=>(0,b.jsx)("span",{style:{color:"#FFD700"},children:l<e.productId.review.rating?(0,b.jsx)(y.gt3,{}):(0,b.jsx)(y.wei,{})},l)):"N/A"}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",cursor:"pointer"},title:null===e||void 0===e||null===(n=e.productId)||void 0===n||null===(r=n.review)||void 0===r?void 0:r.comment,children:null!==e&&void 0!==e&&null!==(a=e.productId)&&void 0!==a&&null!==(d=a.review)&&void 0!==d&&d.comment?e.productId.review.comment.length>20?e.productId.review.comment.slice(0,20)+"...":e.productId.review.comment:"N/A"}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",cursor:"pointer"},onClick:()=>$(e),children:(0,b.jsx)(g.fKN,{className:"fs-3"})}),(0,b.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",cursor:"pointer"},children:(0,b.jsx)("a",{href:null===e||void 0===e?void 0:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:(0,b.jsx)(y.TlC,{className:"fs-4",color:"rgb(74, 118, 82)"})})}),(0,b.jsx)("td",{className:" py-3",children:(0,b.jsx)(p.N_,{to:"/bmg/orderdetail/".concat(e.orderId),state:{orderDetails:e,activeTab:ee},className:"nav-link",children:(0,b.jsx)(h.JPe,{className:"ms-4",style:{cursor:"pointer",color:"rgba(74, 118, 82, 1)"}})})})]},s)})})]})})})]})})]})]}),M&&(0,b.jsx)("div",{className:"modal",children:(0,b.jsxs)("div",{className:"modal-content",children:[(0,b.jsx)("h2",{children:"Add Rating & Review"}),(0,b.jsx)("div",{className:"stars",children:[...Array(5)].map((e,s)=>{const l=s+1;return(0,b.jsx)(y.gt3,{size:30,style:{cursor:"pointer",transition:"color 200ms"},color:l<=(q||z)?"#FFD700":"#ccc",onMouseEnter:()=>B(l),onMouseLeave:()=>B(null),onClick:()=>H(l)},s)})}),(0,b.jsxs)("form",{onSubmit:U(e=>{var s;null===_||void 0===_||null===(s=_.productId)||void 0===s||s._id,null===_||void 0===_||_.sellerId,null===_||void 0===_||_.userId,e.review}),children:[(0,b.jsx)("label",{children:"Review:"}),(0,b.jsx)("textarea",(0,t.A)((0,t.A)({rows:"3"},L("review",{required:"Review is required"})),{},{placeholder:"Write your review...",style:{width:"100%",padding:"8px",marginTop:"5px"}})),K.review&&(0,b.jsx)("p",{style:{color:"red"},children:K.review.message}),(0,b.jsx)("button",{type:"submit",className:"submit-btn",style:{backgroundColor:"rgba(74, 118, 82, 1)",color:"#fff",padding:"10px 15px",border:"none",borderRadius:"5px",cursor:"pointer",marginRight:"10px"},children:null!==Q&&void 0!==Q&&Q.loading?(0,b.jsx)(N.N7,{}):"Submit"}),(0,b.jsx)("button",{type:"button",className:"close-btn",onClick:()=>V(!1),style:{backgroundColor:"#d9534f",color:"#fff",padding:"10px 15px",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Close"})]})]})}),(0,b.jsx)("style",{children:"\n        .modal {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.5);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n        .modal-content {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          width: 400px;\n          text-align: center;\n        }\n        .stars {\n          display: flex;\n          justify-content: center;\n          margin: 10px 0;\n        }\n        .submit-btn {\n          background: rgba(74, 118, 82, 1);\n          color: white;\n          padding: 10px 15px;\n          border: none;\n          border-radius: 5px;\n          cursor: pointer;\n          margin-top: 10px;\n        }\n        .close-btn {\n          background: #ccc;\n          color: black;\n          padding: 10px 15px;\n          border: none;\n          border-radius: 5px;\n          cursor: pointer;\n          margin-left: 10px;\n        }\n      "})]})})}}}]);
//# sourceMappingURL=5261.5feecfbc.chunk.js.map