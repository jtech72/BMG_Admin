"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[6349],{6349:(e,t,l)=>{l.r(t),l.d(t,{default:()=>y});var s=l(5043),a=l(3519),r=l(2435),n=l(1428),d=l(1072),i=l(8602),o=l(7491),c=l(5200),u=l(4556),x=l(3216),h=l(3536),m=l(4858),p=(l(6518),l(6058)),v=l(7881),g=l(184),j=l(4342),b=l(2788);var N=l(579);const y=()=>{var e,t,l,y,w,f,A,I,S,R,k,C;const P=(0,u.d4)(e=>e),W=(0,u.wA)(),[D,E]=(0,s.useState)("auction"),{register:_,handleSubmit:F,reset:L,setValue:U,formState:{errors:K}}=((0,v.Ux)(),(0,m.mN)()),[M,T]=(0,s.useState)(!1),[O,z]=(0,s.useState)(null),[q,B]=(0,s.useState)(""),[G,H]=(0,s.useState)(0),[V,Q]=(0,s.useState)(null),J=null===P||void 0===P?void 0:P.puchaseHistoryListReducer,X=(null===P||void 0===P||null===(e=P.getBuyOrderReducer)||void 0===e||null===(t=e.data)||void 0===t||null===(l=t.data)||void 0===l||l.result,null===P||void 0===P?void 0:P.addRatingAndReviewReducer),Y=null!==(y=null===J||void 0===J||null===(w=J.data)||void 0===w||null===(f=w.data)||void 0===f?void 0:f.currentPage)&&void 0!==y?y:1,Z=null!==(A=null===J||void 0===J||null===(I=J.data)||void 0===I||null===(S=I.data)||void 0===S?void 0:S.totalPages)&&void 0!==A?A:1,$=e=>{e&&(z(e),H(0),L(),T(!0))},[ee,te]=(0,s.useState)("auction"),[le,se]=(0,s.useState)("Sale");(0,s.useEffect)(()=>{"auction"==ee?se("Sale"):"buynow"==ee&&se("Auction")},[ee]),(0,s.useEffect)(()=>{var e;W((e={id:ae,type:le,productName:q},{type:b.S.GET_PURCHASE_ORDER_DETAILS_FOR_ADMIN,payload:e}))},[W,le,q]);const ae=null===(R=(0,x.g)())||void 0===R?void 0:R.id,re=null===P||void 0===P?void 0:P.purchaseOrderForAdminReducer,ne="Auction"==le?null===re||void 0===re||null===(k=re.data)||void 0===k?void 0:k.result:null===re||void 0===re||null===(C=re.data)||void 0===C?void 0:C.orders,de=(0,s.useCallback)((0,h.debounce)(e=>{(e=>{B(e)})(e)},500),[]);return(0,N.jsx)(a.A,{fluid:!0,className:"p-0",children:null!==J&&void 0!==J&&J.loading?(0,N.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",fontWeight:"bold",fontSize:"18px"}}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(r.A.Container,{activeKey:ee,onSelect:e=>{te(e)},children:[(0,N.jsxs)(n.A,{variant:"pills",className:"d-flex justify-content-md-between custom-nav-tab rounded shadow border-bottom mx-2 pt-2",style:{width:"220px",backgroundColor:"rgba(255, 255, 255, 1)"},children:[(0,N.jsx)(n.A.Item,{className:"text-center",children:(0,N.jsx)(n.A.Link,{eventKey:"auction",children:"Auction"})}),(0,N.jsx)(n.A.Item,{className:"text-center",children:(0,N.jsx)(n.A.Link,{eventKey:"buynow",children:"Direct Buy"})})]}),(0,N.jsxs)(r.A.Content,{children:[(0,N.jsx)(r.A.Pane,{eventKey:"auction",children:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(d.A,{className:"mx-auto py-1",children:[(0,N.jsx)(i.A,{md:6,xs:6,children:(0,N.jsx)("h1",{className:"account-title mt-4 text-start px-0",children:"Purchases History"})}),(0,N.jsx)(i.A,{md:6,xs:6,className:"d-flex justify-content-end",children:(0,N.jsxs)("div",{className:"div-search border mt-lg-4 mt-3 rounded-pill p-1 d-flex align-items-center",style:{background:"transparent"},children:[(0,N.jsx)("input",{type:"search",onChange:e=>de(e.target.value),className:"border-0 px-3 w-100 flex-grow-1",placeholder:"Search",name:"search",id:"search",style:{outline:"none",fontSize:"13px",background:"transparent",fontWeight:"400",fontFamily:"Poppins"}}),(0,N.jsx)(c.CKj,{className:"me-3"})]})})]}),(0,N.jsx)(d.A,{className:"mx-auto",children:(0,N.jsx)(i.A,{md:12,children:(0,N.jsx)("div",{style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset"},className:"table-responsive",children:(0,N.jsxs)("table",{className:"w-100 table-bordered rounded text-start table bg-white",children:[(0,N.jsx)("thead",{className:"",children:(0,N.jsxs)("tr",{className:"",children:[(0,N.jsx)("th",{className:"table-heading text-start text-nowrap",children:"Order ID"}),(0,N.jsx)("th",{className:"table-heading text-start text-nowrap",children:"Product Name"}),(0,N.jsx)("th",{className:"table-heading  text-start text-nowrap",children:"Status"}),(0,N.jsx)("th",{className:" table-heading text-start text-nowrap",children:"Payment Method"}),(0,N.jsx)("th",{className:" table-heading text-start text-nowrap",children:"Name"}),(0,N.jsx)("th",{className:" table-heading text-start text-nowrap",children:"Date"}),(0,N.jsx)("th",{className:"table-heading text-start text-nowrap ",children:"Total"}),(0,N.jsx)("th",{className:" table-heading text-start text-nowrap",children:"Rating"}),(0,N.jsx)("th",{className:" table-heading text-start text-nowrap",children:"Review"}),(0,N.jsxs)("th",{className:" table-heading text-start text-nowrap",children:["Add Rating"," "]}),(0,N.jsx)("th",{className:" table-heading text-start text-nowrap",children:"Invoice"})]})}),null!==re&&void 0!==re&&re.loading?(0,N.jsx)("tbody",{children:(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colSpan:"12",className:"text-center py-5",children:(0,N.jsx)(j.Rh,{})})})}):(0,N.jsx)("tbody",{className:" border",children:null===ne||void 0===ne?void 0:ne.map((e,t)=>{var l,s,a,r,n,d,i,o,c,u,x;return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"text-nowrap carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.orderId}),(0,N.jsx)("td",{className:"carousel-desc",style:{fontWeight:"500"},title:null===e||void 0===e||null===(l=e.productId)||void 0===l?void 0:l.Product_Name,children:(null===e||void 0===e||null===(s=e.productId)||void 0===s||null===(a=s.Product_Name)||void 0===a?void 0:a.length)>20?e.productId.Product_Name.slice(0,20)+"...":e.productId.Product_Name}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",color:"PENDING"===(null===e||void 0===e?void 0:e.status)?"green":"DELIVERED"===(null===e||void 0===e?void 0:e.status)?"yellow":"CANCELLED"===(null===e||void 0===e?void 0:e.status)?"red":"black"},children:(null===e||void 0===e?void 0:e.deliveryStatus)&&e.deliveryStatus.charAt(0).toUpperCase()+e.deliveryStatus.slice(1)}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.paymentMethod}),(0,N.jsxs)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:[null===e||void 0===e||null===(r=e.userId)||void 0===r?void 0:r.name," ",null===e||void 0===e||null===(n=e.userId)||void 0===n?void 0:n.lastName]}),(0,N.jsx)("td",{className:"text-nowrap carousel-desc",style:{fontWeight:"500"},children:new Date(null===e||void 0===e?void 0:e.orderDate).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(null===e||void 0===e?void 0:e.totalPrice)||0)}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:null!==e&&void 0!==e&&null!==(d=e.productId)&&void 0!==d&&null!==(i=d.review)&&void 0!==i&&i.rating?[...Array(5)].map((t,l)=>(0,N.jsx)("span",{style:{color:"#FFD700"},children:l<e.productId.review.rating?(0,N.jsx)(g.gt3,{}):(0,N.jsx)(g.wei,{})},l)):"N/A"}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",cursor:"pointer"},title:null===e||void 0===e||null===(o=e.productId)||void 0===o||null===(c=o.review)||void 0===c?void 0:c.comment,children:null!==e&&void 0!==e&&null!==(u=e.productId)&&void 0!==u&&null!==(x=u.review)&&void 0!==x&&x.comment?e.productId.review.comment.length>20?e.productId.review.comment.slice(0,20)+"...":e.productId.review.comment:"N/A"}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",cursor:"pointer"},onClick:()=>$(e),children:(0,N.jsx)(p.fKN,{className:"fs-3"})}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",cursor:"pointer"},children:(0,N.jsx)("a",{href:null===e||void 0===e?void 0:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:(0,N.jsx)(g.TlC,{className:"fs-4",color:"rgb(74, 118, 82)"})})})]},t)})})]})})})}),Z>1&&(0,N.jsxs)(o.A,{className:"justify-content-center mt-3 custom-pagination",children:[(0,N.jsx)(o.A.Prev,{disabled:1===Y,children:"Previous"}),[...Array(Z)].map((e,t)=>(0,N.jsx)(o.A.Item,{active:t+1===Y,children:t+1},t)),(0,N.jsx)(o.A.Next,{disabled:Y===Z,children:"Next"})]})]})}),(0,N.jsx)(r.A.Pane,{eventKey:"buynow",children:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(d.A,{className:"mx-auto py-1",children:[(0,N.jsx)(i.A,{md:6,xs:6,children:(0,N.jsx)("h1",{className:"account-title mt-4 text-start px-0",children:"Direct Buy"})}),(0,N.jsx)(i.A,{md:6,xs:6,className:"d-flex justify-content-end",children:(0,N.jsxs)("div",{className:"div-search border mt-lg-4 mt-3 rounded-pill p-1 d-flex align-items-center",style:{background:"transparent"},children:[(0,N.jsx)("input",{type:"search",onChange:e=>de(e.target.value),className:"border-0 px-3 w-100 flex-grow-1",placeholder:"Search",name:"search",id:"search",style:{outline:"none",fontSize:"13px",background:"transparent",fontWeight:"400",fontFamily:"Poppins"}}),(0,N.jsx)(c.CKj,{className:"me-3"})]})})]}),(0,N.jsx)(d.A,{className:"mx-auto",children:(0,N.jsx)(i.A,{md:12,children:(0,N.jsx)("div",{style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset"},className:"table-responsive",children:(0,N.jsxs)("table",{className:"text-start w-100 table-bordered rounded table bg-white",children:[(0,N.jsx)("thead",{className:" ",style:{border:"1px solid rgba(189, 185, 185, 0.2)",borderRadius:"13px 13px 0px 0px !important"},children:(0,N.jsxs)("tr",{className:"",children:[(0,N.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Order ID"}),(0,N.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Product Name"}),(0,N.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Status"}),(0,N.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Quantity"}),(0,N.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Payment Method"}),(0,N.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Date"}),(0,N.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Total"}),(0,N.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Rating"}),(0,N.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Review"}),(0,N.jsxs)("th",{className:"text-start table-heading text-nowrap",children:["Add Rating"," "]}),(0,N.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Invoice"})]})}),null!==re&&void 0!==re&&re.loading?(0,N.jsx)("tbody",{children:(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colSpan:"12",className:"text-center py-5",children:(0,N.jsx)(j.Rh,{})})})}):(0,N.jsx)("tbody",{className:" border",children:null===ne||void 0===ne?void 0:ne.map((e,t)=>{var l,s,a,r,n,d,i,o,c,u;return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"text-nowrap carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.orderId}),(0,N.jsx)("td",{className:"carousel-desc",style:{fontWeight:"500"},title:null===e||void 0===e||null===(l=e.productId)||void 0===l?void 0:l.Product_Name,children:(null===e||void 0===e||null===(s=e.productId)||void 0===s||null===(a=s.Product_Name)||void 0===a?void 0:a.length)>20?e.productId.Product_Name.slice(0,20)+"...":e.productId.Product_Name}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",color:"PENDING"===(null===e||void 0===e?void 0:e.status)?"green":"DELIVERED"===(null===e||void 0===e?void 0:e.status)?"yellow":"CANCELLED"===(null===e||void 0===e?void 0:e.status)?"red":"black"},children:(null===e||void 0===e?void 0:e.deliveryStatus)&&e.deliveryStatus.charAt(0).toUpperCase()+e.deliveryStatus.slice(1)}),(0,N.jsx)("td",{className:"carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e||null===(r=e.productId)||void 0===r?void 0:r.quantity}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.paymentMethod}),(0,N.jsx)("td",{className:"text-nowrap  carousel-desc",style:{fontWeight:"500"},children:new Date(e.createdAt).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(null===e||void 0===e?void 0:e.totalPrice)||0)}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:null!==e&&void 0!==e&&null!==(n=e.productId)&&void 0!==n&&null!==(d=n.review)&&void 0!==d&&d.rating?[...Array(5)].map((t,l)=>(0,N.jsx)("span",{style:{color:"#FFD700"},children:l<e.productId.review.rating?(0,N.jsx)(g.gt3,{}):(0,N.jsx)(g.wei,{})},l)):"N/A"}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",cursor:"pointer"},title:null===e||void 0===e||null===(i=e.productId)||void 0===i||null===(o=i.review)||void 0===o?void 0:o.comment,children:null!==e&&void 0!==e&&null!==(c=e.productId)&&void 0!==c&&null!==(u=c.review)&&void 0!==u&&u.comment?e.productId.review.comment.length>20?e.productId.review.comment.slice(0,20)+"...":e.productId.review.comment:"N/A"}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",cursor:"pointer"},onClick:()=>$(e),children:(0,N.jsx)(p.fKN,{className:"fs-3"})}),(0,N.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",cursor:"pointer"},children:(0,N.jsx)("a",{href:null===e||void 0===e?void 0:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:(0,N.jsx)(g.TlC,{className:"fs-4",color:"rgb(74, 118, 82)"})})})]},t)})})]})})})})]})})]})]}),M&&(0,N.jsx)("div",{className:"modal",children:(0,N.jsxs)("div",{className:"modal-content",children:[(0,N.jsx)("h2",{children:"Add Rating & Review"}),(0,N.jsx)("div",{className:"stars",children:[...Array(5)].map((e,t)=>{const l=t+1;return(0,N.jsx)(g.gt3,{size:30,style:{cursor:"pointer",transition:"color 200ms"},color:l<=(V||G)?"#FFD700":"#ccc",onMouseEnter:()=>Q(l),onMouseLeave:()=>Q(null),onClick:()=>H(l)},t)})}),(0,N.jsxs)("form",{onSubmit:F(e=>{var t;null===O||void 0===O||null===(t=O.productId)||void 0===t||t._id,null===O||void 0===O||O.sellerId,null===O||void 0===O||O.userId,e.review}),children:[(0,N.jsx)("label",{children:"Review:"}),(0,N.jsx)("textarea",{rows:"3",..._("review",{required:"Review is required"}),placeholder:"Write your review...",style:{width:"100%",padding:"8px",marginTop:"5px"}}),K.review&&(0,N.jsx)("p",{style:{color:"red"},children:K.review.message}),(0,N.jsx)("button",{type:"submit",className:"submit-btn",style:{backgroundColor:"rgba(74, 118, 82, 1)",color:"#fff",padding:"10px 15px",border:"none",borderRadius:"5px",cursor:"pointer",marginRight:"10px"},children:null!==X&&void 0!==X&&X.loading?(0,N.jsx)(j.N7,{}):"Submit"}),(0,N.jsx)("button",{type:"button",className:"close-btn",onClick:()=>T(!1),style:{backgroundColor:"#d9534f",color:"#fff",padding:"10px 15px",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Close"})]})]})}),(0,N.jsx)("style",{children:"\n        .modal {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.5);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n        .modal-content {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          width: 400px;\n          text-align: center;\n        }\n        .stars {\n          display: flex;\n          justify-content: center;\n          margin: 10px 0;\n        }\n        .submit-btn {\n          background: rgba(74, 118, 82, 1);\n          color: white;\n          padding: 10px 15px;\n          border: none;\n          border-radius: 5px;\n          cursor: pointer;\n          margin-top: 10px;\n        }\n        .close-btn {\n          background: #ccc;\n          color: black;\n          padding: 10px 15px;\n          border: none;\n          border-radius: 5px;\n          cursor: pointer;\n          margin-left: 10px;\n        }\n      "})]})})}}}]);
//# sourceMappingURL=6349.d13c2fc4.chunk.js.map