"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[6349],{6349:(e,t,l)=>{l.r(t),l.d(t,{default:()=>w});var s=l(9379),a=l(5043),r=l(3519),n=l(2435),d=l(1428),i=l(1072),o=l(8602),c=l(7491),u=l(5200),x=l(4556),h=l(3216),m=l(3536),p=l(4858),v=(l(6518),l(6058)),g=l(7881),j=l(184),b=l(4342),N=l(2788);var y=l(579);const w=()=>{var e,t,l,w,f,A,I,S,R,k,C,P;const W=(0,x.d4)(e=>e),D=(0,x.wA)(),[E,_]=(0,a.useState)("auction"),{register:F,handleSubmit:L,reset:U,setValue:K,formState:{errors:M}}=((0,g.Ux)(),(0,p.mN)()),[T,O]=(0,a.useState)(!1),[z,q]=(0,a.useState)(null),[B,G]=(0,a.useState)(""),[H,V]=(0,a.useState)(0),[Q,J]=(0,a.useState)(null),X=null===W||void 0===W?void 0:W.puchaseHistoryListReducer,Y=(null===W||void 0===W||null===(e=W.getBuyOrderReducer)||void 0===e||null===(t=e.data)||void 0===t||null===(l=t.data)||void 0===l||l.result,null===W||void 0===W?void 0:W.addRatingAndReviewReducer),Z=null!==(w=null===X||void 0===X||null===(f=X.data)||void 0===f||null===(A=f.data)||void 0===A?void 0:A.currentPage)&&void 0!==w?w:1,$=null!==(I=null===X||void 0===X||null===(S=X.data)||void 0===S||null===(R=S.data)||void 0===R?void 0:R.totalPages)&&void 0!==I?I:1,ee=e=>{e&&(q(e),V(0),U(),O(!0))},[te,le]=(0,a.useState)("auction"),[se,ae]=(0,a.useState)("Sale");(0,a.useEffect)(()=>{"auction"==te?ae("Sale"):"buynow"==te&&ae("Auction")},[te]),(0,a.useEffect)(()=>{var e;D((e={id:re,type:se,productName:B},{type:N.S.GET_PURCHASE_ORDER_DETAILS_FOR_ADMIN,payload:e}))},[D,se,B]);const re=null===(k=(0,h.g)())||void 0===k?void 0:k.id,ne=null===W||void 0===W?void 0:W.purchaseOrderForAdminReducer,de="Auction"==se?null===ne||void 0===ne||null===(C=ne.data)||void 0===C?void 0:C.result:null===ne||void 0===ne||null===(P=ne.data)||void 0===P?void 0:P.orders,ie=(0,a.useCallback)((0,m.debounce)(e=>{(e=>{G(e)})(e)},500),[]);return(0,y.jsx)(r.A,{fluid:!0,className:"p-0",children:null!==X&&void 0!==X&&X.loading?(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",fontWeight:"bold",fontSize:"18px"}}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(n.A.Container,{activeKey:te,onSelect:e=>{le(e)},children:[(0,y.jsxs)(d.A,{variant:"pills",className:"d-flex justify-content-md-between custom-nav-tab rounded shadow border-bottom mx-2 pt-2",style:{width:"220px",backgroundColor:"rgba(255, 255, 255, 1)"},children:[(0,y.jsx)(d.A.Item,{className:"text-center",children:(0,y.jsx)(d.A.Link,{eventKey:"auction",children:"Auction"})}),(0,y.jsx)(d.A.Item,{className:"text-center",children:(0,y.jsx)(d.A.Link,{eventKey:"buynow",children:"Direct Buy"})})]}),(0,y.jsxs)(n.A.Content,{children:[(0,y.jsx)(n.A.Pane,{eventKey:"auction",children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(i.A,{className:"mx-auto py-1",children:[(0,y.jsx)(o.A,{md:6,xs:6,children:(0,y.jsx)("h1",{className:"account-title mt-4 text-start px-0",children:"Purchases History"})}),(0,y.jsx)(o.A,{md:6,xs:6,className:"d-flex justify-content-end",children:(0,y.jsxs)("div",{className:"div-search border mt-lg-4 mt-3 rounded-pill p-1 d-flex align-items-center",style:{background:"transparent"},children:[(0,y.jsx)("input",{type:"search",onChange:e=>ie(e.target.value),className:"border-0 px-3 w-100 flex-grow-1",placeholder:"Search",name:"search",id:"search",style:{outline:"none",fontSize:"13px",background:"transparent",fontWeight:"400",fontFamily:"Poppins"}}),(0,y.jsx)(u.CKj,{className:"me-3"})]})})]}),(0,y.jsx)(i.A,{className:"mx-auto",children:(0,y.jsx)(o.A,{md:12,children:(0,y.jsx)("div",{style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset"},className:"table-responsive",children:(0,y.jsxs)("table",{className:"w-100 table-bordered rounded text-start table bg-white",children:[(0,y.jsx)("thead",{className:"",children:(0,y.jsxs)("tr",{className:"",children:[(0,y.jsx)("th",{className:"table-heading text-start text-nowrap",children:"Order ID"}),(0,y.jsx)("th",{className:"table-heading text-start text-nowrap",children:"Product Name"}),(0,y.jsx)("th",{className:"table-heading  text-start text-nowrap",children:"Status"}),(0,y.jsx)("th",{className:" table-heading text-start text-nowrap",children:"Payment Method"}),(0,y.jsx)("th",{className:" table-heading text-start text-nowrap",children:"Name"}),(0,y.jsx)("th",{className:" table-heading text-start text-nowrap",children:"Date"}),(0,y.jsx)("th",{className:"table-heading text-start text-nowrap ",children:"Total"}),(0,y.jsx)("th",{className:" table-heading text-start text-nowrap",children:"Rating"}),(0,y.jsx)("th",{className:" table-heading text-start text-nowrap",children:"Review"}),(0,y.jsxs)("th",{className:" table-heading text-start text-nowrap",children:["Add Rating"," "]}),(0,y.jsx)("th",{className:" table-heading text-start text-nowrap",children:"Invoice"})]})}),null!==ne&&void 0!==ne&&ne.loading?(0,y.jsx)("tbody",{children:(0,y.jsx)("tr",{children:(0,y.jsx)("td",{colSpan:"12",className:"text-center py-5",children:(0,y.jsx)(b.Rh,{})})})}):(0,y.jsx)("tbody",{className:" border",children:null===de||void 0===de?void 0:de.map((e,t)=>{var l,s,a,r,n,d,i,o,c,u,x;return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"text-nowrap carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.orderId}),(0,y.jsx)("td",{className:"carousel-desc",style:{fontWeight:"500"},title:null===e||void 0===e||null===(l=e.productId)||void 0===l?void 0:l.Product_Name,children:(null===e||void 0===e||null===(s=e.productId)||void 0===s||null===(a=s.Product_Name)||void 0===a?void 0:a.length)>20?e.productId.Product_Name.slice(0,20)+"...":e.productId.Product_Name}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",color:"PENDING"===(null===e||void 0===e?void 0:e.status)?"green":"DELIVERED"===(null===e||void 0===e?void 0:e.status)?"yellow":"CANCELLED"===(null===e||void 0===e?void 0:e.status)?"red":"black"},children:(null===e||void 0===e?void 0:e.deliveryStatus)&&e.deliveryStatus.charAt(0).toUpperCase()+e.deliveryStatus.slice(1)}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.paymentMethod}),(0,y.jsxs)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:[null===e||void 0===e||null===(r=e.userId)||void 0===r?void 0:r.name," ",null===e||void 0===e||null===(n=e.userId)||void 0===n?void 0:n.lastName]}),(0,y.jsx)("td",{className:"text-nowrap carousel-desc",style:{fontWeight:"500"},children:new Date(null===e||void 0===e?void 0:e.orderDate).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(null===e||void 0===e?void 0:e.totalPrice)||0)}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:null!==e&&void 0!==e&&null!==(d=e.productId)&&void 0!==d&&null!==(i=d.review)&&void 0!==i&&i.rating?[...Array(5)].map((t,l)=>(0,y.jsx)("span",{style:{color:"#FFD700"},children:l<e.productId.review.rating?(0,y.jsx)(j.gt3,{}):(0,y.jsx)(j.wei,{})},l)):"N/A"}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",cursor:"pointer"},title:null===e||void 0===e||null===(o=e.productId)||void 0===o||null===(c=o.review)||void 0===c?void 0:c.comment,children:null!==e&&void 0!==e&&null!==(u=e.productId)&&void 0!==u&&null!==(x=u.review)&&void 0!==x&&x.comment?e.productId.review.comment.length>20?e.productId.review.comment.slice(0,20)+"...":e.productId.review.comment:"N/A"}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",cursor:"pointer"},onClick:()=>ee(e),children:(0,y.jsx)(v.fKN,{className:"fs-3"})}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",cursor:"pointer"},children:(0,y.jsx)("a",{href:null===e||void 0===e?void 0:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:(0,y.jsx)(j.TlC,{className:"fs-4",color:"rgb(74, 118, 82)"})})})]},t)})})]})})})}),$>1&&(0,y.jsxs)(c.A,{className:"justify-content-center mt-3 custom-pagination",children:[(0,y.jsx)(c.A.Prev,{disabled:1===Z,children:"Previous"}),[...Array($)].map((e,t)=>(0,y.jsx)(c.A.Item,{active:t+1===Z,children:t+1},t)),(0,y.jsx)(c.A.Next,{disabled:Z===$,children:"Next"})]})]})}),(0,y.jsx)(n.A.Pane,{eventKey:"buynow",children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(i.A,{className:"mx-auto py-1",children:[(0,y.jsx)(o.A,{md:6,xs:6,children:(0,y.jsx)("h1",{className:"account-title mt-4 text-start px-0",children:"Direct Buy"})}),(0,y.jsx)(o.A,{md:6,xs:6,className:"d-flex justify-content-end",children:(0,y.jsxs)("div",{className:"div-search border mt-lg-4 mt-3 rounded-pill p-1 d-flex align-items-center",style:{background:"transparent"},children:[(0,y.jsx)("input",{type:"search",onChange:e=>ie(e.target.value),className:"border-0 px-3 w-100 flex-grow-1",placeholder:"Search",name:"search",id:"search",style:{outline:"none",fontSize:"13px",background:"transparent",fontWeight:"400",fontFamily:"Poppins"}}),(0,y.jsx)(u.CKj,{className:"me-3"})]})})]}),(0,y.jsx)(i.A,{className:"mx-auto",children:(0,y.jsx)(o.A,{md:12,children:(0,y.jsx)("div",{style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset"},className:"table-responsive",children:(0,y.jsxs)("table",{className:"text-start w-100 table-bordered rounded table bg-white",children:[(0,y.jsx)("thead",{className:" ",style:{border:"1px solid rgba(189, 185, 185, 0.2)",borderRadius:"13px 13px 0px 0px !important"},children:(0,y.jsxs)("tr",{className:"",children:[(0,y.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Order ID"}),(0,y.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Product Name"}),(0,y.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Status"}),(0,y.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Quantity"}),(0,y.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Payment Method"}),(0,y.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Date"}),(0,y.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Total"}),(0,y.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Rating"}),(0,y.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Review"}),(0,y.jsxs)("th",{className:"text-start table-heading text-nowrap",children:["Add Rating"," "]}),(0,y.jsx)("th",{className:"text-start table-heading text-nowrap",children:"Invoice"})]})}),null!==ne&&void 0!==ne&&ne.loading?(0,y.jsx)("tbody",{children:(0,y.jsx)("tr",{children:(0,y.jsx)("td",{colSpan:"12",className:"text-center py-5",children:(0,y.jsx)(b.Rh,{})})})}):(0,y.jsx)("tbody",{className:" border",children:null===de||void 0===de?void 0:de.map((e,t)=>{var l,s,a,r,n,d,i,o,c,u;return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"text-nowrap carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.orderId}),(0,y.jsx)("td",{className:"carousel-desc",style:{fontWeight:"500"},title:null===e||void 0===e||null===(l=e.productId)||void 0===l?void 0:l.Product_Name,children:(null===e||void 0===e||null===(s=e.productId)||void 0===s||null===(a=s.Product_Name)||void 0===a?void 0:a.length)>20?e.productId.Product_Name.slice(0,20)+"...":e.productId.Product_Name}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",color:"PENDING"===(null===e||void 0===e?void 0:e.status)?"green":"DELIVERED"===(null===e||void 0===e?void 0:e.status)?"yellow":"CANCELLED"===(null===e||void 0===e?void 0:e.status)?"red":"black"},children:(null===e||void 0===e?void 0:e.deliveryStatus)&&e.deliveryStatus.charAt(0).toUpperCase()+e.deliveryStatus.slice(1)}),(0,y.jsx)("td",{className:"carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e||null===(r=e.productId)||void 0===r?void 0:r.quantity}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.paymentMethod}),(0,y.jsx)("td",{className:"text-nowrap  carousel-desc",style:{fontWeight:"500"},children:new Date(e.createdAt).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(null===e||void 0===e?void 0:e.totalPrice)||0)}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500"},children:null!==e&&void 0!==e&&null!==(n=e.productId)&&void 0!==n&&null!==(d=n.review)&&void 0!==d&&d.rating?[...Array(5)].map((t,l)=>(0,y.jsx)("span",{style:{color:"#FFD700"},children:l<e.productId.review.rating?(0,y.jsx)(j.gt3,{}):(0,y.jsx)(j.wei,{})},l)):"N/A"}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",cursor:"pointer"},title:null===e||void 0===e||null===(i=e.productId)||void 0===i||null===(o=i.review)||void 0===o?void 0:o.comment,children:null!==e&&void 0!==e&&null!==(c=e.productId)&&void 0!==c&&null!==(u=c.review)&&void 0!==u&&u.comment?e.productId.review.comment.length>20?e.productId.review.comment.slice(0,20)+"...":e.productId.review.comment:"N/A"}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",cursor:"pointer"},onClick:()=>ee(e),children:(0,y.jsx)(v.fKN,{className:"fs-3"})}),(0,y.jsx)("td",{className:" carousel-desc",style:{fontWeight:"500",cursor:"pointer"},children:(0,y.jsx)("a",{href:null===e||void 0===e?void 0:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:(0,y.jsx)(j.TlC,{className:"fs-4",color:"rgb(74, 118, 82)"})})})]},t)})})]})})})})]})})]})]}),T&&(0,y.jsx)("div",{className:"modal",children:(0,y.jsxs)("div",{className:"modal-content",children:[(0,y.jsx)("h2",{children:"Add Rating & Review"}),(0,y.jsx)("div",{className:"stars",children:[...Array(5)].map((e,t)=>{const l=t+1;return(0,y.jsx)(j.gt3,{size:30,style:{cursor:"pointer",transition:"color 200ms"},color:l<=(Q||H)?"#FFD700":"#ccc",onMouseEnter:()=>J(l),onMouseLeave:()=>J(null),onClick:()=>V(l)},t)})}),(0,y.jsxs)("form",{onSubmit:L(e=>{var t;null===z||void 0===z||null===(t=z.productId)||void 0===t||t._id,null===z||void 0===z||z.sellerId,null===z||void 0===z||z.userId,e.review}),children:[(0,y.jsx)("label",{children:"Review:"}),(0,y.jsx)("textarea",(0,s.A)((0,s.A)({rows:"3"},F("review",{required:"Review is required"})),{},{placeholder:"Write your review...",style:{width:"100%",padding:"8px",marginTop:"5px"}})),M.review&&(0,y.jsx)("p",{style:{color:"red"},children:M.review.message}),(0,y.jsx)("button",{type:"submit",className:"submit-btn",style:{backgroundColor:"rgba(74, 118, 82, 1)",color:"#fff",padding:"10px 15px",border:"none",borderRadius:"5px",cursor:"pointer",marginRight:"10px"},children:null!==Y&&void 0!==Y&&Y.loading?(0,y.jsx)(b.N7,{}):"Submit"}),(0,y.jsx)("button",{type:"button",className:"close-btn",onClick:()=>O(!1),style:{backgroundColor:"#d9534f",color:"#fff",padding:"10px 15px",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Close"})]})]})}),(0,y.jsx)("style",{children:"\n        .modal {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.5);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n        .modal-content {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          width: 400px;\n          text-align: center;\n        }\n        .stars {\n          display: flex;\n          justify-content: center;\n          margin: 10px 0;\n        }\n        .submit-btn {\n          background: rgba(74, 118, 82, 1);\n          color: white;\n          padding: 10px 15px;\n          border: none;\n          border-radius: 5px;\n          cursor: pointer;\n          margin-top: 10px;\n        }\n        .close-btn {\n          background: #ccc;\n          color: black;\n          padding: 10px 15px;\n          border: none;\n          border-radius: 5px;\n          cursor: pointer;\n          margin-left: 10px;\n        }\n      "})]})})}}}]);
//# sourceMappingURL=6349.99d4b9e1.chunk.js.map