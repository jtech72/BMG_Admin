"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[5222],{3767:(e,s,t)=>{t.d(s,{Y:()=>n});const n=e=>{if(!e)return"";const s=e.replace(/T00:00:00\.000Z*T00:00:00$/,"T00:00:00.000Z"),t=new Date(s);return isNaN(t)?"Invalid Date":t.toLocaleString("en-US",{weekday:"short",month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}},5222:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var n=t(5043),d=t(3519),i=t(1072),l=t(8602),a=t(8628),o=t(4282),c=t(4196),r=t(370),m=t(615),u=t(6798),x=t(3216),h=t(423),f=t(2104),v=t(3488),j=t(579);const p=e=>{let{startBidDateTime:s,endBidDateTime:t}=e;const[d,i]=(0,n.useState)({status:"loading",message:"",timeLeft:{days:0,hours:0,minutes:0,seconds:0}}),l=()=>{const e=new Date,n=new Date(s),d=new Date(t);if(!s||!t||isNaN(n.getTime())||isNaN(d.getTime()))return{status:"invalid",message:"Invalid auction dates",timeLeft:null};if(e<n){const s=n-e;return{status:"not-started",message:"Starts in",timeLeft:{days:Math.floor(s/864e5),hours:Math.floor(s/36e5%24),minutes:Math.floor(s/6e4%60),seconds:Math.floor(s/1e3%60)}}}if(e>=n&&e<d){const s=d-e;return{status:"active",message:"Ends in",timeLeft:{days:Math.floor(s/864e5),hours:Math.floor(s/36e5%24),minutes:Math.floor(s/6e4%60),seconds:Math.floor(s/1e3%60)}}}return{status:"ended",message:"\u2705 Auction Ended",timeLeft:null}};(0,n.useEffect)(()=>{let e;const s=()=>{i(l())};s();const t=l();return("not-started"===t.status||"active"===t.status)&&(e=setInterval(s,1e3)),()=>{e&&clearInterval(e)}},[s,t]);const a=e=>e.toString().padStart(2,"0"),o={container:{display:"flex",alignItems:"center"},statusMessage:{fontWeight:"500",borderRadius:"4px",padding:"4px 8px"},timeLabel:{fontSize:"0.875rem"},timeBadge:{fontSize:"1rem",fontWeight:"500",padding:"0px 3px",borderRadius:"4px",backgroundColor:"#f8f9fa",color:"#CD1212",textAlign:"center"},statusStyles:{"not-started":{textColor:"#fd7e14",bgColor:"rgba(253, 126, 20, 0.1)"},active:{textColor:"#0d6efd",bgColor:"transparent"},ended:{textColor:"#198754",bgColor:"rgba(25, 135, 84, 0.1)"},invalid:{textColor:"#dc3545",bgColor:"rgba(220, 53, 69, 0.1)"}}},c=o.statusStyles[d.status]||o.statusStyles.active;return(0,j.jsx)("div",{style:o.container,children:"ended"===d.status||"invalid"===d.status?(0,j.jsx)("span",{style:{...o.statusMessage,color:c.textColor,backgroundColor:c.bgColor},children:d.message}):(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,j.jsx)("span",{style:{...o.timeLabel,color:c.textColor}}),(0,j.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[d.timeLeft.days>0&&(0,j.jsxs)("span",{style:o.timeBadge,children:[a(d.timeLeft.days),"d"]}),(0,j.jsxs)("span",{style:o.timeBadge,children:[a(d.timeLeft.hours),"h"]}),(0,j.jsxs)("span",{style:o.timeBadge,children:[a(d.timeLeft.minutes),"m"]}),(0,j.jsxs)("span",{style:o.timeBadge,children:[a(d.timeLeft.seconds),"s"]}),(0,j.jsx)("span",{style:o.timeBadge,children:"left"})]})]})})};const N=t.p+"static/media/location.322bc1cb353de516aad57c16590797e6.svg";var g=t(3767);const b=()=>{var e,s,t,b,y,_;const A=(0,x.Zp)(),[w,C]=((0,x.zy)(),(0,n.useState)([])),B=null===(e=(0,x.zy)())||void 0===e||null===(s=e.state)||void 0===s?void 0:s.product,L=null===(t=(0,x.g)())||void 0===t?void 0:t.id,[S,D]=(0,n.useState)(!1),[M,k]=(0,n.useState)(""),I=(0,n.useRef)();(0,n.useEffect)(()=>(I.current=(0,f.io)(v.A.API_URL,{transports:["websocket"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),()=>{I.current.disconnect()}),[]),(0,n.useEffect)(()=>{if(null===B||void 0===B||!B._id)return;const e=I.current;e.connected||e.connect();const s=e=>{var s,t;(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(t=s[0])||void 0===t?void 0:t.productId)===L?C(null===e||void 0===e?void 0:e.data):C([])};return e.on("liveMonitorResponse",s),e.emit("liveBid",{productId:L}),e.emit("liveMonitor",{productId:L}),()=>{e.off("liveMonitorResponse",s)}},[L]);const T=()=>D(!1),P=e=>{if(e%100>=11&&e%100<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},$=e=>{const s=e=>e?"*".repeat(e.length-1):"",t=s(null===e||void 0===e?void 0:e.name),n=s(null===e||void 0===e?void 0:e.lastName);return t&&n?`${t} ${n}`:t||(n||"")};return(0,j.jsxs)(d.A,{fluid:!0,className:"my-md-4 my-2 px-md-5 px-3",children:[(0,j.jsx)(i.A,{className:"align-items-center mb-3 mx-auto",children:(0,j.jsx)(l.A,{className:"d-flex align-items-center mt-2 pt-1 justify-content-center justify-content-md-start ",children:(0,j.jsxs)("h5",{className:"fw-bold text-success",children:[(0,j.jsx)("i",{className:"bi bi-arrow-left-circle-fill text-dark me-2 cursor-pointer",onClick:()=>{A(-1)}}),"Auction > Live Auction"]})})}),(0,j.jsx)(i.A,{className:"mx-auto",children:(0,j.jsx)(l.A,{sm:12,className:"bg-light rounded-3",children:(0,j.jsx)(a.A,{className:"border-0 bg-transparent",children:(0,j.jsxs)(i.A,{className:"mt-0 mx-auto",children:[(0,j.jsx)(l.A,{md:3,className:"d-flex align-items-center mt-0 px-0",children:(0,j.jsx)(a.A.Img,{src:null===B||void 0===B||null===(b=B.image)||void 0===b?void 0:b[0],alt:"Product image",className:" object-fit-cover add_width_height"})}),(0,j.jsxs)(l.A,{md:9,className:"p-4 ps-md-4 ps-0 pe-0 py-0 d-flex flex-column justify-content-between",children:[(0,j.jsxs)("div",{className:"row mx-auto",children:[(0,j.jsx)("div",{className:"col-md-9 col-12",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"top_heading_font col-12 mb-2",children:null===B||void 0===B?void 0:B.Product_Name}),(0,j.jsxs)("div",{className:"col-12 mb-2 add_condition_font",children:[(0,j.jsx)("img",{src:N,alt:"Location",className:"me-1"}),(null===B||void 0===B?void 0:B.Location)||"N/A"]}),(0,j.jsxs)("div",{className:"col-12 mb-2 add_condition_font",children:["Condition :"," ",(0,j.jsx)("span",{className:"fw-bold",children:(null===B||void 0===B?void 0:B.condition)||"N/A"})]}),(0,j.jsxs)("div",{className:"col-12 mb-2 add_condition_font",children:["Category :"," ",(0,j.jsx)("span",{className:"fw-bold",children:(null===B||void 0===B||null===(y=B.categoryId)||void 0===y?void 0:y.name)||"N/A"})]}),(0,j.jsxs)("div",{className:"col-12 mb-2 add_condition_font",children:["Product ID :"," ",(0,j.jsx)("span",{className:"fw-bold",children:(null===B||void 0===B?void 0:B.productGenerateId)||"N/A"})]}),(0,j.jsxs)("div",{className:"col-12 mb-2 add_condition_font",children:["Manufacturing :"," ",(0,j.jsx)("span",{className:"fw-bold",children:(null===B||void 0===B?void 0:B.yearofManufacturer)||"N/A"})]}),(0,j.jsxs)("div",{className:"col-12 mb-1 add_condition_font d-flex align-items-start justify-content-start",title:null!==B&&void 0!==B&&B.serialNumber?B.serialNumber.replace(/<[^>]*>?/gm,""):"N/A",children:["Serial Number :",(0,j.jsx)("span",{className:"fw-bold add_botton_zero ms-1",dangerouslySetInnerHTML:{__html:(null===B||void 0===B||null===(_=B.serialNumber)||void 0===_?void 0:_.length)>100?`${B.serialNumber.slice(0,100)}...`:(null===B||void 0===B?void 0:B.serialNumber)||"N/A"}})]})]})}),(0,j.jsx)("div",{className:"col-md-3 col-12 d-flex align-items-start justify-content-md-end justify-content-start",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"add_font_small col-12 d-flex align-items-center justify-content-md-end justify-content-start",children:(0,j.jsx)("span",{className:"ms-1 add_date_time_font fw-medium",children:(0,j.jsx)(p,{startBidDateTime:(0,g.Y)(null===B||void 0===B?void 0:B.startBidDateTime),endBidDateTime:(0,g.Y)(null===B||void 0===B?void 0:B.endBidDateTime),className:"p-0"})})}),(0,j.jsxs)("div",{className:"add_font_small col-12 d-flex align-items-center justify-content-md-end pt-4 justify-content-start",children:["Buy-Out Price :",(0,j.jsxs)("span",{className:"ms-1 add_date_time_font_price fw-bold",children:["$",(null===B||void 0===B?void 0:B.Ask_Price)||"N/A"]})]}),(0,j.jsxs)("div",{className:"add_font_small col-12 d-flex align-items-center justify-content-md-end pt-2 justify-content-start",children:["Start Bid Price :"," ",(0,j.jsxs)("span",{className:"ms-1 add_date_time_font_price fw-bold",children:[" ","$",(null===B||void 0===B?void 0:B.Start_Bid_Price)||"N/A"]})]}),(0,j.jsxs)("div",{className:"add_font_small col-12 d-flex align-items-center justify-content-md-end pt-2 justify-content-start",children:["Highest Bid Amount :"," ",(0,j.jsxs)("span",{className:"ms-1 add_date_time_font_price fw-bold",children:[" ","$",(null===B||void 0===B?void 0:B.highBidingAmount)||"N/A"]})]}),(0,j.jsxs)("div",{className:"add_font_small col-12 d-flex align-items-center justify-content-md-end pt-2 justify-content-start",children:["Time Zone :"," ",(0,j.jsxs)("span",{className:"ms-1 add_date_time_font_price fw-bold",children:[" ",(null===B||void 0===B?void 0:B.timeZone)||"N/A"]})]})]})})]}),(0,j.jsx)("div",{className:"d-flex gap-2 mt-4 flex-wrap",children:(0,j.jsx)(o.A,{className:"d-flex align-items-center justify-content-center rounded-3 add_font_button add_btn_color_varient px-4",onClick:()=>{A(`/bmg/items/${null===B||void 0===B?void 0:B._id}`)},children:"Product Info"})})]})]})})})}),(0,j.jsxs)(i.A,{className:"mb-2 mt-3",children:[(0,j.jsx)("hr",{className:"my-3"}),(0,j.jsx)(l.A,{xs:12,className:"",children:(0,j.jsx)("h4",{className:"mx-1 mb-0 fs-6 fw-semibold",children:"Live Monitoring"})}),(null===w||void 0===w?void 0:w.length)>0?(0,j.jsx)(i.A,{className:"mx-auto mt-3",children:(0,j.jsx)("div",{className:"table-container px-0",children:(0,j.jsxs)(c.A,{responsive:!0,hover:!0,className:"custom-table mb-0",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{className:"table-header",children:[(0,j.jsx)("th",{children:"Sno"}),(0,j.jsx)("th",{children:"Customer Name"}),(0,j.jsx)("th",{children:"Amount"}),(0,j.jsx)("th",{children:"Product Name"}),(0,j.jsx)("th",{children:"Model"}),(0,j.jsx)("th",{children:"Seller's Location"}),(0,j.jsx)("th",{children:"Buyer's Location"}),(0,j.jsx)("th",{children:"Status"})]})}),(0,j.jsx)("tbody",{children:null===w||void 0===w?void 0:w.map((e,s)=>{var t,n;let{user:d,bidingAmount:i,bidingId:l,product:a}=e;return(0,j.jsxs)("tr",{style:{borderBottom:s!==(null===w||void 0===w?void 0:w.length)-1?"1px solid #d7d2d2":"none",backgroundColor:0===s?"#C9FAD2":""},children:[(0,j.jsx)("td",{children:s+1}),(0,j.jsx)("td",{children:$(d)}),(0,j.jsx)("td",{className:"text-success",children:i?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{className:"text-dark",children:"$"}),i]}):"N/A"}),(0,j.jsx)("td",{children:(null===a||void 0===a?void 0:a.Product_Name)||"N/A"}),(0,j.jsx)("td",{children:(null===a||void 0===a?void 0:a.Model)||"-"}),(0,j.jsx)("td",{style:{cursor:"pointer"},children:(0,j.jsx)(r.A,{placement:"top",overlay:(0,j.jsx)(m.A,{id:"overlay-example",children:null===a||void 0===a?void 0:a.Location}),children:(0,j.jsx)("span",{className:"text-primary",children:(null===a||void 0===a||null===(t=a.Location)||void 0===t?void 0:t.slice(0,30).concat("..."))||"N/A"})})}),(0,j.jsx)("td",{style:{cursor:"pointer"},children:(0,j.jsx)(r.A,{placement:"top",overlay:(0,j.jsx)(m.A,{id:"overlay-example",children:null===d||void 0===d?void 0:d.address}),children:(0,j.jsx)("span",{className:"text-primary",children:(null===d||void 0===d||null===(n=d.address)||void 0===n?void 0:n.slice(0,30).concat("..."))||"N/A"})})}),(0,j.jsx)("td",{className:"fw-bold "+(0===s?"text-success":1===s?"text-warning":2===s?"text-danger":"text-dark"),children:`${s+1}${P(s+1)}`})]},a.id)})})]})})}):(0,j.jsx)("div",{className:"text-danger text-center fw-bold",children:"No Bid's Available !"}),(0,j.jsx)(u.A,{show:S,size:"md",onHide:T,centered:!0,children:(0,j.jsxs)(u.A.Body,{children:[(0,j.jsxs)(i.A,{style:{borderBottom:"3px solid #4a7652"},className:"mb-2 pb-2",children:[(0,j.jsx)(l.A,{sm:2}),(0,j.jsx)(l.A,{sm:8,children:(0,j.jsx)("div",{className:"d-flex justify-content-center",children:(0,j.jsx)("h4",{children:"Edit Auction Details"})})}),(0,j.jsx)(l.A,{sm:2,className:"d-flex justify-content-end",children:(0,j.jsx)(h.oxH,{onClick:T,className:"text-danger fs-3 cursor-pointer"})})]}),(0,j.jsxs)("form",{children:[(0,j.jsx)(i.A,{className:"px-3",children:(0,j.jsxs)("div",{className:"mb-2 col-12",children:[(0,j.jsx)("label",{htmlFor:"bidEndDate",className:"form-label",children:"Bid End Date :"}),(0,j.jsx)("input",{type:"date",className:"form-control",id:"bidEndDate",value:M,onChange:e=>{k(e.target.value)}})]})}),(0,j.jsx)(i.A,{className:"me-1",children:(0,j.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-3 mb-2 pe-3",children:[(0,j.jsx)(o.A,{className:"custom-bordered-buttons",onClick:T,children:"Close"}),(0,j.jsx)(o.A,{className:"custom-buttons",onClick:()=>{D(!1)},children:"Update"})]})})]})]})})]})]})}}}]);
//# sourceMappingURL=5222.a02ebeec.chunk.js.map