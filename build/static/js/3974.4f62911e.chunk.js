"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[3974],{3974:(e,s,i)=>{i.r(s),i.d(s,{default:()=>g});var n=i(9379),l=i(5043),t=i(1072),a=i(8602),o=i(8628),d=i(4282),c=i(4196),r=i(4556),m=i(5009),u=i(4342),x=i(5717),h=(i(4476),i(6798)),v=i(3722),p=i(4858),A=i(579);const j=e=>{var s,i,o,c,m,j;let{show:g,hide:b,comissionData:N}=e;const f=(0,r.wA)(),y=(0,r.d4)(e=>e),{control:C,register:k,handleSubmit:S,reset:w,setValue:D,formState:{errors:E}}=(0,p.mN)({defaultValues:{commissions:[{minAmount:"",maxAmount:"",percentage:"",isActive:"true",_id:null}]}}),{fields:_,append:P,remove:M,replace:I}=(0,p.jz)({control:C,name:"commissions"}),R=(null===y||void 0===y||null===(s=y.createComissionDataReducer)||void 0===s?void 0:s.loading)||(null===y||void 0===y||null===(i=y.updateComissionDataReducer)||void 0===i?void 0:i.loading),z=null===y||void 0===y||null===(o=y.createComissionDataReducer)||void 0===o||null===(c=o.comissionData)||void 0===c?void 0:c.status,V=null===y||void 0===y||null===(m=y.updateComissionDataReducer)||void 0===m||null===(j=m.comissionData)||void 0===j?void 0:j.status,F=()=>b();(0,l.useEffect)(()=>{if("Edit"===(null===N||void 0===N?void 0:N.type)&&Array.isArray(null===N||void 0===N?void 0:N.data)){const e=N.data.map(e=>{var s;return{minAmount:e.minAmount,maxAmount:e.maxAmount,percentage:e.percentage,isActive:(null===(s=e.isActive)||void 0===s?void 0:s.toString())||"true",_id:e._id}});I(e)}else w({commissions:[{minAmount:"",maxAmount:"",percentage:"",isActive:"true",_id:null}]})},[g,N,I,w]);return(0,l.useEffect)(()=>{R||200!==z&&200!==V||(f((0,x.$)({search:"",limit:"",page:""})),f((0,x.MM)()),F())},[z,V,R,f]),(0,A.jsxs)(h.A,{show:g,centered:!0,size:"lg",children:[(0,A.jsx)(h.A.Header,{className:"px-2 py-1 text-light",style:{backgroundColor:"#008003"},children:(0,A.jsx)(h.A.Title,{children:"Edit"===(null===N||void 0===N?void 0:N.type)?"Edit Platform Charges":"Add Platform Charges"})}),(0,A.jsxs)(v.A,{onSubmit:S(e=>{const s=e.commissions.map(e=>{const s={minAmount:parseFloat(e.minAmount),maxAmount:parseFloat(e.maxAmount),percentage:parseFloat(e.percentage)};return"Edit"===(null===N||void 0===N?void 0:N.type)&&e._id?(0,n.A)((0,n.A)({},s),{},{id:e._id,isActive:"true"===e.isActive}):s});"Edit"===(null===N||void 0===N?void 0:N.type)?f((0,x.M)(s)):f((0,x.nN)({commissions:s}))}),children:[(0,A.jsxs)(h.A.Body,{children:[_.map((e,s)=>{var i,l,o,c,r,m;return(0,A.jsxs)(t.A,{className:"mb-2 align-items-end",children:[(0,A.jsxs)(a.A,{md:3,children:[(0,A.jsx)(v.A.Label,{children:"Min Amount"}),(0,A.jsx)(v.A.Control,(0,n.A)((0,n.A)({type:"number",step:"0.01",min:"0",placeholder:"Min"},k("commissions.".concat(s,".minAmount"),{required:!0})),{},{isInvalid:!(null===E||void 0===E||null===(i=E.commissions)||void 0===i||null===(l=i[s])||void 0===l||!l.minAmount)}))]}),(0,A.jsxs)(a.A,{md:3,children:[(0,A.jsx)(v.A.Label,{children:"Max Amount"}),(0,A.jsx)(v.A.Control,(0,n.A)((0,n.A)({type:"number",step:"0.01",min:"0",placeholder:"Max"},k("commissions.".concat(s,".maxAmount"),{required:!0})),{},{isInvalid:!(null===E||void 0===E||null===(o=E.commissions)||void 0===o||null===(c=o[s])||void 0===c||!c.maxAmount)}))]}),(0,A.jsxs)(a.A,{md:2,children:[(0,A.jsx)(v.A.Label,{children:"%"}),(0,A.jsx)(v.A.Control,(0,n.A)((0,n.A)({type:"number",step:"0.01",min:"0.01",max:"100",placeholder:"%"},k("commissions.".concat(s,".percentage"),{required:!0})),{},{isInvalid:!(null===E||void 0===E||null===(r=E.commissions)||void 0===r||null===(m=r[s])||void 0===m||!m.percentage)}))]}),"Edit"===(null===N||void 0===N?void 0:N.type)&&(0,A.jsxs)(a.A,{children:[(0,A.jsx)(v.A.Label,{children:"Status"}),(0,A.jsxs)(v.A.Select,(0,n.A)((0,n.A)({},k("commissions.".concat(s,".isActive"))),{},{children:[(0,A.jsx)("option",{value:"true",children:"Active"}),(0,A.jsx)("option",{value:"false",children:"Inactive"})]}))]}),"Add"===(null===N||void 0===N?void 0:N.type)&&(0,A.jsx)(a.A,{md:2,children:(0,A.jsx)(d.A,{variant:"outline-danger",size:"sm",className:"mt-2",onClick:()=>M(s),disabled:1===_.length,children:"- Remove"})})]},e.id)}),"Add"===(null===N||void 0===N?void 0:N.type)&&(0,A.jsx)("div",{className:"text-end me-2",children:(0,A.jsx)(d.A,{variant:"outline-success",size:"sm",onClick:()=>P({minAmount:"",maxAmount:"",percentage:"",isActive:"true",_id:null}),children:"+ Add More"})})]}),(0,A.jsxs)(h.A.Footer,{className:"px-2 py-1",children:[(0,A.jsx)(d.A,{variant:"secondary",onClick:F,children:"Cancel"}),(0,A.jsx)(d.A,{type:"submit",style:{backgroundColor:"#008003",borderColor:"#008003"},disabled:R,children:R?(0,A.jsx)(u.N7,{}):"Edit"===(null===N||void 0===N?void 0:N.type)?"Update":"Save"})]})]})]})},g=()=>{var e,s,i,h,v;const p=(0,r.wA)(),g=(0,r.d4)(e=>e),b=(null===g||void 0===g||null===(e=g.getComissionDataReducer)||void 0===e||null===(s=e.comissionData)||void 0===s?void 0:s.commisions)||[],N=(null===g||void 0===g||null===(i=g.getComissionDataReducer)||void 0===i||null===(h=i.comissionData)||void 0===h?void 0:h.totalRecords)||(null===b||void 0===b?void 0:b.length)||0,f=null===g||void 0===g||null===(v=g.getComissionDataReducer)||void 0===v?void 0:v.loading,[y,C]=(0,l.useState)(""),[k,S]=(0,l.useState)(1),[w,D]=(0,l.useState)(20),[E,_]=(0,l.useState)(1),[P,M]=(0,l.useState)({type:"",data:null,isVisible:!1});(0,l.useEffect)(()=>{_(Math.ceil(N/w))},[N,w]),(0,l.useEffect)(()=>{p((0,x.$)({search:y,limit:w,page:k}))},[p,y,k,w]);const I=function(e){M({type:e,data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,isVisible:!0})};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(m.A,{breadCrumbItems:[{label:"Platform charges",path:"/bmg/platform-charges",active:!0}],title:"Platform Charges"}),(0,A.jsx)(t.A,{children:(0,A.jsx)(a.A,{xs:12,children:(0,A.jsx)(o.A,{style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset"},children:(0,A.jsxs)(o.A.Body,{children:[(0,A.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,A.jsxs)("span",{className:"px-3 py-1 bg-dark text-light rounded",children:["Total Charges: ",N||0]}),(0,A.jsxs)("div",{className:"d-flex",children:[(0,A.jsxs)(d.A,{variant:"success",style:{outline:"none",boxShadow:"none"},onClick:()=>I("Add"),children:[(0,A.jsx)("i",{className:"mdi mdi-plus-circle"})," Add"]}),(0,A.jsxs)(d.A,{variant:"danger",className:"ms-2",style:{outline:"none",boxShadow:"none"},onClick:()=>I("Edit",b),children:[(0,A.jsx)("i",{className:"mdi mdi-square-edit-outline"})," Edit"]})]})]}),f?(0,A.jsx)(u.Rh,{}):b.length>0?(0,A.jsx)("div",{className:"table-responsive",children:(0,A.jsxs)(c.A,{bordered:!0,hover:!0,className:"bg-white text-center",children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:"text-nowrap text-secondary",children:[(0,A.jsx)("th",{children:(0,A.jsx)("i",{className:"mdi mdi-merge"})}),(0,A.jsx)("th",{children:"Min Amount"}),(0,A.jsx)("th",{children:"Max Amount"}),(0,A.jsx)("th",{children:"Percentage"}),(0,A.jsx)("th",{children:"Status"})]})}),(0,A.jsx)("tbody",{children:b.map((e,s)=>(0,A.jsxs)("tr",{className:"fw-bold",children:[(0,A.jsx)("td",{children:(k-1)*w+s+1}),(0,A.jsx)("td",{children:null!==e&&void 0!==e&&e.minAmount?"$".concat(null===e||void 0===e?void 0:e.minAmount):"N/A"}),(0,A.jsx)("td",{children:null!==e&&void 0!==e&&e.maxAmount?"$".concat(null===e||void 0===e?void 0:e.maxAmount):"N/A"}),(0,A.jsx)("td",{children:null!==e&&void 0!==e&&e.percentage?"".concat(null===e||void 0===e?void 0:e.percentage,"%"):"N/A"}),(0,A.jsx)("td",{children:(0,A.jsx)("span",{className:"badge ".concat(null!==e&&void 0!==e&&e.isActive?"bg-success":"bg-danger"," px-2 py-1"),children:null!==e&&void 0!==e&&e.isActive?"\u2705 Active":"\u274c Inactive"})})]},e._id||s))})]})}):(0,A.jsx)("div",{className:"text-center py-4",children:(0,A.jsx)("code",{className:"fs-5 text-muted",children:"No Charges found. Add some to display."})})]})})})}),(0,A.jsx)(j,{show:P.isVisible,hide:()=>M((0,n.A)((0,n.A)({},P),{},{isVisible:!1})),comissionData:P})]})}},4196:(e,s,i)=>{i.d(s,{A:()=>u});var n=i(9379),l=i(45),t=i(8139),a=i.n(t),o=i(5043),d=i(7852),c=i(579);const r=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],m=o.forwardRef((e,s)=>{let{bsPrefix:i,className:t,striped:o,bordered:m,borderless:u,hover:x,size:h,variant:v,responsive:p}=e,A=(0,l.A)(e,r);const j=(0,d.oU)(i,"table"),g=a()(t,j,v&&"".concat(j,"-").concat(v),h&&"".concat(j,"-").concat(h),o&&"".concat(j,"-").concat("string"===typeof o?"striped-".concat(o):"striped"),m&&"".concat(j,"-bordered"),u&&"".concat(j,"-borderless"),x&&"".concat(j,"-hover")),b=(0,c.jsx)("table",(0,n.A)((0,n.A)({},A),{},{className:g,ref:s}));if(p){let e="".concat(j,"-responsive");return"string"===typeof p&&(e="".concat(e,"-").concat(p)),(0,c.jsx)("div",{className:e,children:b})}return b});m.displayName="Table";const u=m},4476:(e,s,i)=>{i.d(s,{A:()=>a});var n=i(5043),l=i(5475),t=i(579);const a=e=>{let{pageIndex:s,pageSize:i,totalPages:a,setPageIndex:o,onChangePageSize:d}=e;return(0,n.useEffect)(()=>{s>a&&o(Math.max(1,a))},[s,a,o]),(0,t.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1 pt-2",children:[(0,t.jsxs)("div",{className:"d-inline-block me-3",children:[(0,t.jsx)("label",{className:"me-1",children:"Display :"}),(0,t.jsx)("select",{value:i,onChange:e=>{const s=Number(e.target.value);d(s),o(1)},className:"form-select d-inline-block w-auto",children:[10,20,50,100].map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("span",{className:"me-3",children:["Page"," ",(0,t.jsxs)("strong",{children:[s," of ",a]})]}),(0,t.jsx)("label",{children:"Go to page: "}),(0,t.jsx)("input",{type:"number",placeholder:"".concat(s),min:"1",max:a,onChange:e=>{const s=Number(e.target.value);s>=1&&s<=a&&o(s)},className:"form-control ms-1 d-inline-block",style:{width:"80px"}}),(0,t.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0 pe-4",children:[s>1&&(0,t.jsx)("li",{className:"page-item",onClick:()=>o(s-1),children:(0,t.jsx)(l.N_,{to:"#",className:"page-link",children:"Previous"})}),Array.from({length:a}).map((e,i)=>{const n=i+1,d=n===s;return a<=5||n>=s-1&&n<=s+1||(1===n||n===a)?(0,t.jsx)("li",{className:"page-item ".concat(d?"active":""),onClick:()=>o(n),children:(0,t.jsx)(l.N_,{to:"#",className:"page-link",children:n})},n):2===n&&s>=5||n===a-1&&s<=a-4?(0,t.jsx)("li",{className:"page-item disabled",children:(0,t.jsx)(l.N_,{to:"#",className:"page-link px-0",children:"..."})},n):null}),s<a&&(0,t.jsx)("li",{className:"page-item",onClick:()=>o(s+1),children:(0,t.jsx)(l.N_,{to:"#",className:"page-link",children:"Next"})})]})]})}},5009:(e,s,i)=>{i.d(s,{A:()=>o});i(5043);var n=i(1072),l=i(8602),t=i(9397),a=i(579);const o=e=>(0,a.jsx)(n.A,{children:(0,a.jsx)(l.A,{children:(0,a.jsxs)("div",{className:"page-title-box",children:[(0,a.jsx)("div",{className:"page-title-right",children:(0,a.jsx)(t.A,{listProps:{className:"m-0"},children:e.breadCrumbItems.map((e,s)=>e.active?(0,a.jsx)(t.A.Item,{active:!0,children:(0,a.jsx)("span",{className:"custom-color",children:e.label})},s):(0,a.jsx)(t.A.Item,{href:e.path,children:(0,a.jsx)("span",{className:"custom-color",children:e.label})},s))})}),(0,a.jsx)("h4",{className:"page-title custom-color",children:e.title})]})})})}}]);
//# sourceMappingURL=3974.4f62911e.chunk.js.map