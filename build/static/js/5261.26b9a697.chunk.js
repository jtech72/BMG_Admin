"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[5261],{5261:(e,s,l)=>{l.r(s),l.d(s,{default:()=>b});var t=l(5043),r=l(3519),n=l(2435),a=l(1428),d=l(1072),i=l(8602),o=l(4196),c=l(7491),u=l(1462),h=l(5200),m=l(4556),x=l(5475),p=l(4858),v=(l(6518),l(6058)),g=l(7881),j=l(184),y=l(4342),N=l(579);const b=()=>{var e,s,l,b,f,A,w,I,S,D,E,k;const T=(0,m.d4)((e=>e)),C=(0,m.wA)(),[R,W]=(0,t.useState)("auction"),{register:P,handleSubmit:L,reset:U,setValue:F,formState:{errors:O}}=((0,g.Ux)(),(0,p.mN)()),[K,M]=(0,t.useState)(!1),[V,_]=(0,t.useState)(null),[G,z]=(0,t.useState)(0),[H,q]=(0,t.useState)(null),B=null===T||void 0===T?void 0:T.puchaseHistoryListReducer,Y=null===T||void 0===T||null===(e=T.getBuyOrderReducer)||void 0===e||null===(s=e.data)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.result,J=null===T||void 0===T?void 0:T.addRatingAndReviewReducer,$=null!==(b=null===B||void 0===B||null===(f=B.data)||void 0===f||null===(A=f.data)||void 0===A?void 0:A.currentPage)&&void 0!==b?b:1,Q=null!==(w=null===B||void 0===B||null===(I=B.data)||void 0===I||null===(S=I.data)||void 0===S?void 0:S.totalPages)&&void 0!==w?w:1,X=e=>{e&&(_(e),z(0),U(),M(!0))};(0,t.useEffect)((()=>{}),[C]);const[Z,ee]=(0,t.useState)("auction");return(0,N.jsx)(r.A,{fluid:!0,className:"ps-lg-5 pe-lg-5",style:{marginTop:"6rem"},children:null!==B&&void 0!==B&&B.loading?(0,N.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",fontWeight:"bold",fontSize:"18px"}}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(n.A.Container,{activeKey:Z,onSelect:e=>{ee(e)},children:[(0,N.jsxs)(a.A,{variant:"pills",className:"d-flex justify-content-md-between custom-nav-tab rounded shadow border-bottom mx-4",style:{width:"220px",backgroundColor:"rgba(255, 255, 255, 1)"},children:[(0,N.jsx)(a.A.Item,{className:"text-center",children:(0,N.jsx)(a.A.Link,{eventKey:"auction",children:"Auction"})}),(0,N.jsx)(a.A.Item,{className:"text-center",children:(0,N.jsx)(a.A.Link,{eventKey:"buynow",children:"Direct Buy"})})]}),(0,N.jsxs)(n.A.Content,{children:[(0,N.jsx)(n.A.Pane,{eventKey:"auction",children:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(d.A,{className:"pe-lg-4 ps-lg-4 mx-auto",children:[(0,N.jsx)(i.A,{md:6,xs:6,children:(0,N.jsx)("h1",{className:"account-title mt-4 text-start px-0",children:"Purchases History"})}),(0,N.jsx)(i.A,{md:6,xs:6,className:"d-flex justify-content-end",children:(0,N.jsxs)("div",{className:"div-search border mt-lg-4 mt-3 rounded-pill p-1 d-flex align-items-center",style:{background:"transparent"},children:[(0,N.jsx)("input",{type:"search",className:"border-0 px-3 w-100 flex-grow-1",placeholder:"Search",name:"search",id:"search",style:{outline:"none",fontSize:"13px",background:"transparent",fontWeight:"400",fontFamily:"Poppins"}}),(0,N.jsx)(h.CKj,{className:"me-3"})]})})]}),(0,N.jsx)(d.A,{className:"pe-lg-4 mx-auto ps-lg-4",children:(0,N.jsx)(i.A,{md:12,children:(0,N.jsxs)(o.A,{responsive:!0,border:"1",hover:!0,className:"w-100",children:[(0,N.jsx)("thead",{className:" ",style:{border:"1px solid rgba(189, 185, 185, 0.2)",borderRadius:"13px 13px 0px 0px !important"},children:(0,N.jsxs)("tr",{className:"",children:[(0,N.jsx)("th",{className:"ps-5 table-heading ",children:"ORDER ID"}),(0,N.jsx)("th",{className:"table-heading ",children:"STATUS"}),(0,N.jsx)("th",{className:" table-heading",children:"PAYMENT METHOD"}),(0,N.jsx)("th",{className:" table-heading",children:"NAME"}),(0,N.jsx)("th",{className:" table-heading",children:"DATE"}),(0,N.jsx)("th",{className:"table-heading ",children:"TOTAL"}),(0,N.jsx)("th",{className:" table-heading",children:"RATING"}),(0,N.jsx)("th",{className:" table-heading",children:"REVIEW"}),(0,N.jsx)("th",{className:" table-heading",children:"ADD RATING "}),(0,N.jsx)("th",{className:" table-heading",children:"INVOICE"}),(0,N.jsx)("th",{className:"table-heading ",children:"ACTION"})]})}),(0,N.jsx)("tbody",{className:" border",children:null===Y||void 0===Y?void 0:Y.map(((e,s)=>{var l,t,r,n,a,d,i,o;return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"py-3 carousel-desc ps-5",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.orderId}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",color:"PENDING"===(null===e||void 0===e?void 0:e.status)?"green":"DELIVERED"===(null===e||void 0===e?void 0:e.status)?"yellow":"CANCELLED"===(null===e||void 0===e?void 0:e.status)?"red":"black"},children:(null===e||void 0===e?void 0:e.deliveryStatus)&&e.deliveryStatus.charAt(0).toUpperCase()+e.deliveryStatus.slice(1)}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.paymentMethod}),(0,N.jsxs)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:[null===e||void 0===e||null===(l=e.userId)||void 0===l?void 0:l.name," ",null===e||void 0===e||null===(t=e.userId)||void 0===t?void 0:t.lastName]}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:new Date(null===e||void 0===e?void 0:e.orderDate).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(null===e||void 0===e?void 0:e.totalPrice)||0)}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:null!==e&&void 0!==e&&null!==(r=e.productId)&&void 0!==r&&null!==(n=r.review)&&void 0!==n&&n.rating?[...Array(5)].map(((s,l)=>(0,N.jsx)("span",{style:{color:"#FFD700"},children:l<e.productId.review.rating?(0,N.jsx)(j.gt3,{}):(0,N.jsx)(j.wei,{})},l))):"N/A"}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",cursor:"pointer"},title:null===e||void 0===e||null===(a=e.productId)||void 0===a||null===(d=a.review)||void 0===d?void 0:d.comment,children:null!==e&&void 0!==e&&null!==(i=e.productId)&&void 0!==i&&null!==(o=i.review)&&void 0!==o&&o.comment?e.productId.review.comment.length>20?e.productId.review.comment.slice(0,20)+"...":e.productId.review.comment:"N/A"}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",cursor:"pointer"},onClick:()=>X(e),children:(0,N.jsx)(v.fKN,{className:"fs-3"})}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",cursor:"pointer"},children:(0,N.jsx)("a",{href:null===e||void 0===e?void 0:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:(0,N.jsx)(j.TlC,{className:"fs-4",color:"rgb(74, 118, 82)"})})}),(0,N.jsx)("td",{className:" py-3",children:(0,N.jsx)(x.N_,{to:`/bmg/orderdetail/${e.orderId}`,state:{orderDetails:e,activeTab:Z},className:"nav-link",children:(0,N.jsx)(u.JPe,{className:"ms-4",style:{cursor:"pointer",color:"rgba(74, 118, 82, 1)"}})})})]},s)}))})]})})}),Q>1&&(0,N.jsxs)(c.A,{className:"justify-content-center mt-3 custom-pagination",children:[(0,N.jsx)(c.A.Prev,{disabled:1===$,children:"Previous"}),[...Array(Q)].map(((e,s)=>(0,N.jsx)(c.A.Item,{active:s+1===$,children:s+1},s))),(0,N.jsx)(c.A.Next,{disabled:$===Q,children:"Next"})]})]})}),(0,N.jsx)(n.A.Pane,{eventKey:"buynow",children:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(d.A,{className:"px-lg-4 mx-auto",children:[(0,N.jsx)(i.A,{md:6,xs:6,children:(0,N.jsx)("h1",{className:"account-title mt-4 text-start px-0",children:"Direct Buy"})}),(0,N.jsx)(i.A,{md:6,xs:6,className:"d-flex justify-content-end",children:(0,N.jsxs)("div",{className:"div-search border mt-lg-4 mt-3 rounded-pill p-1 d-flex align-items-center",style:{background:"transparent"},children:[(0,N.jsx)("input",{type:"search",className:"border-0 px-3 w-100 flex-grow-1",placeholder:"Search",name:"search",id:"search",style:{outline:"none",fontSize:"13px",background:"transparent",fontWeight:"400",fontFamily:"Poppins"}}),(0,N.jsx)(h.CKj,{className:"me-3"})]})})]}),(0,N.jsx)(d.A,{className:"px-lg-4 mx-auto",children:(0,N.jsx)(i.A,{md:12,children:(0,N.jsxs)(o.A,{responsive:!0,border:"1",hover:!0,className:"w-100",children:[(0,N.jsx)("thead",{className:" ",style:{border:"1px solid rgba(189, 185, 185, 0.2)",borderRadius:"13px 13px 0px 0px !important"},children:(0,N.jsxs)("tr",{className:"",children:[(0,N.jsx)("th",{className:"ps-5 table-heading",children:"ORDER ID"}),(0,N.jsx)("th",{className:"table-heading",children:"STATUS"}),(0,N.jsx)("th",{className:"table-heading",children:"QUANTITY"}),(0,N.jsx)("th",{className:"table-heading",children:"PAYMENT METHOD"}),(0,N.jsx)("th",{className:"table-heading",children:"DATE"}),(0,N.jsx)("th",{className:"table-heading",children:"TOTAL"}),(0,N.jsx)("th",{className:"table-heading",children:"RATING"}),(0,N.jsx)("th",{className:"table-heading",children:"REVIEW"}),(0,N.jsx)("th",{className:"table-heading",children:"ADD RATING "}),(0,N.jsx)("th",{className:"table-heading",children:"INVOICE"}),(0,N.jsx)("th",{className:"table-heading",children:"ACTION"})]})}),(0,N.jsx)("tbody",{className:" border",children:null===B||void 0===B||null===(D=B.data)||void 0===D||null===(E=D.data)||void 0===E||null===(k=E.orders)||void 0===k?void 0:k.map(((e,s)=>{var l,t,r,n,a,d;return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:" py-3 carousel-desc ps-5",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.orderId}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",color:"PENDING"===(null===e||void 0===e?void 0:e.status)?"green":"DELIVERED"===(null===e||void 0===e?void 0:e.status)?"yellow":"CANCELLED"===(null===e||void 0===e?void 0:e.status)?"red":"black"},children:(null===e||void 0===e?void 0:e.deliveryStatus)&&e.deliveryStatus.charAt(0).toUpperCase()+e.deliveryStatus.slice(1)}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.quantity}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:null===e||void 0===e?void 0:e.paymentMethod}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:new Date(e.createdAt).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(null===e||void 0===e?void 0:e.totalPrice)||0)}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500"},children:null!==e&&void 0!==e&&null!==(l=e.productId)&&void 0!==l&&null!==(t=l.review)&&void 0!==t&&t.rating?[...Array(5)].map(((s,l)=>(0,N.jsx)("span",{style:{color:"#FFD700"},children:l<e.productId.review.rating?(0,N.jsx)(j.gt3,{}):(0,N.jsx)(j.wei,{})},l))):"N/A"}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",cursor:"pointer"},title:null===e||void 0===e||null===(r=e.productId)||void 0===r||null===(n=r.review)||void 0===n?void 0:n.comment,children:null!==e&&void 0!==e&&null!==(a=e.productId)&&void 0!==a&&null!==(d=a.review)&&void 0!==d&&d.comment?e.productId.review.comment.length>20?e.productId.review.comment.slice(0,20)+"...":e.productId.review.comment:"N/A"}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",cursor:"pointer"},onClick:()=>X(e),children:(0,N.jsx)(v.fKN,{className:"fs-3"})}),(0,N.jsx)("td",{className:" py-3 carousel-desc",style:{fontWeight:"500",cursor:"pointer"},children:(0,N.jsx)("a",{href:null===e||void 0===e?void 0:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:(0,N.jsx)(j.TlC,{className:"fs-4",color:"rgb(74, 118, 82)"})})}),(0,N.jsx)("td",{className:" py-3",children:(0,N.jsx)(x.N_,{to:`/bmg/orderdetail/${e.orderId}`,state:{orderDetails:e,activeTab:Z},className:"nav-link",children:(0,N.jsx)(u.JPe,{className:"ms-4",style:{cursor:"pointer",color:"rgba(74, 118, 82, 1)"}})})})]},s)}))})]})})})]})})]})]}),K&&(0,N.jsx)("div",{className:"modal",children:(0,N.jsxs)("div",{className:"modal-content",children:[(0,N.jsx)("h2",{children:"Add Rating & Review"}),(0,N.jsx)("div",{className:"stars",children:[...Array(5)].map(((e,s)=>{const l=s+1;return(0,N.jsx)(j.gt3,{size:30,style:{cursor:"pointer",transition:"color 200ms"},color:l<=(H||G)?"#FFD700":"#ccc",onMouseEnter:()=>q(l),onMouseLeave:()=>q(null),onClick:()=>z(l)},s)}))}),(0,N.jsxs)("form",{onSubmit:L((e=>{var s;null===V||void 0===V||null===(s=V.productId)||void 0===s||s._id,null===V||void 0===V||V.sellerId,null===V||void 0===V||V.userId,e.review})),children:[(0,N.jsx)("label",{children:"Review:"}),(0,N.jsx)("textarea",{rows:"3",...P("review",{required:"Review is required"}),placeholder:"Write your review...",style:{width:"100%",padding:"8px",marginTop:"5px"}}),O.review&&(0,N.jsx)("p",{style:{color:"red"},children:O.review.message}),(0,N.jsx)("button",{type:"submit",className:"submit-btn",style:{backgroundColor:"rgba(74, 118, 82, 1)",color:"#fff",padding:"10px 15px",border:"none",borderRadius:"5px",cursor:"pointer",marginRight:"10px"},children:null!==J&&void 0!==J&&J.loading?(0,N.jsx)(y.N7,{}):"Submit"}),(0,N.jsx)("button",{type:"button",className:"close-btn",onClick:()=>M(!1),style:{backgroundColor:"#d9534f",color:"#fff",padding:"10px 15px",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Close"})]})]})}),(0,N.jsx)("style",{children:"\n        .modal {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.5);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n        .modal-content {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          width: 400px;\n          text-align: center;\n        }\n        .stars {\n          display: flex;\n          justify-content: center;\n          margin: 10px 0;\n        }\n        .submit-btn {\n          background: rgba(74, 118, 82, 1);\n          color: white;\n          padding: 10px 15px;\n          border: none;\n          border-radius: 5px;\n          cursor: pointer;\n          margin-top: 10px;\n        }\n        .close-btn {\n          background: #ccc;\n          color: black;\n          padding: 10px 15px;\n          border: none;\n          border-radius: 5px;\n          cursor: pointer;\n          margin-left: 10px;\n        }\n      "})]})})}}}]);
//# sourceMappingURL=5261.26b9a697.chunk.js.map