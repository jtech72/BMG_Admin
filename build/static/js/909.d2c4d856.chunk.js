"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[909],{2909:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var d=t(5043),n=t(3519),i=t(1072),l=t(8602),o=t(8258),c=t(4282),a=t(4196),r=t(370),m=t(615),u=t(6798),x=t(3216),h=t(423),v=t(2104),j=t(3488),f=t(579);const N=()=>(0,f.jsx)("div",{children:"AuctionCountDown"});const p=t.p+"static/media/location.322bc1cb353de516aad57c16590797e6.svg",b=e=>{if(!e)return"";const s=e.replace(/T00:00:00\.000Z*T00:00:00$/,"T00:00:00.000Z"),t=new Date(s);return isNaN(t)?"Invalid Date":t.toLocaleString("en-US",{weekday:"short",month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})},g=()=>{var e,s,t,g,_,A;const y=(0,x.Zp)(),[w,k]=((0,x.zy)(),(0,d.useState)([]));console.log(w,"3456789");const D=null===(e=(0,x.zy)())||void 0===e||null===(s=e.state)||void 0===s?void 0:s.product;console.log(D,"auctionData");const C=null===(t=(0,x.g)())||void 0===t?void 0:t.id;console.log(C,"ProductId");const[B,I]=(0,d.useState)(!1),[P,L]=(0,d.useState)(""),M=(0,d.useRef)();console.log((0,x.zy)(),"useParams()?.id"),(0,d.useEffect)((()=>(M.current=(0,v.io)(j.A.API_URL,{transports:["websocket"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),()=>{M.current.disconnect()})),[]),(0,d.useEffect)((()=>{if(null===D||void 0===D||!D._id)return;const e=M.current;e.connected||e.connect();const s=e=>{var s,t,d;(console.log("Live Monitor Data Received:",e),(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(t=s[0])||void 0===t?void 0:t.productId)===C)?(console.log(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.productId,"data?.data?.productId"),k(null===e||void 0===e?void 0:e.data)):k([])};return e.on("liveMonitorResponse",s),e.emit("liveBid",{productId:C}),e.emit("liveMonitor",{productId:C}),()=>{e.off("liveMonitorResponse",s)}}),[C]);const S=()=>I(!1),$=e=>{if(e%100>=11&&e%100<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},T=e=>{const s=e=>e?"*".repeat(e.length-1):"",t=s(null===e||void 0===e?void 0:e.name),d=s(null===e||void 0===e?void 0:e.lastName);return t&&d?`${t} ${d}`:t||(d||"")};return(0,f.jsxs)(n.A,{fluid:!0,className:"my-md-4 my-2 px-md-5 px-3",children:[(0,f.jsx)(i.A,{className:"align-items-center mb-3 mx-auto",children:(0,f.jsx)(l.A,{className:"d-flex align-items-center mt-2 pt-1 justify-content-center justify-content-md-start ",children:(0,f.jsxs)("h5",{className:"fw-bold text-success",children:[(0,f.jsx)("i",{className:"bi bi-arrow-left-circle-fill text-dark me-2 cursor-pointer",onClick:()=>{y(-1)}}),"Auction > Live Auction"]})})}),(0,f.jsx)(i.A,{className:"mx-auto",children:(0,f.jsx)(l.A,{sm:12,className:"bg-light rounded-3",children:(0,f.jsx)(o.A,{className:"border-0 bg-transparent",children:(0,f.jsxs)(i.A,{className:"mt-0 mx-auto",children:[(0,f.jsx)(l.A,{md:3,className:"d-flex align-items-center mt-0 px-0",children:(0,f.jsx)(o.A.Img,{src:null===D||void 0===D||null===(g=D.image)||void 0===g?void 0:g[0],alt:"Product image",className:" object-fit-cover add_width_height"})}),(0,f.jsxs)(l.A,{md:9,className:"p-4 ps-md-4 ps-0 pe-0 py-0 d-flex flex-column justify-content-between",children:[(0,f.jsxs)("div",{className:"row mx-auto",children:[(0,f.jsx)("div",{className:"col-md-9 col-12",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"top_heading_font col-12 mb-2",children:null===D||void 0===D?void 0:D.Product_Name}),(0,f.jsxs)("div",{className:"col-12 mb-2 add_condition_font",children:[(0,f.jsx)("img",{src:p,alt:"Location",className:"me-1"}),(null===D||void 0===D?void 0:D.Location)||"N/A"]}),(0,f.jsxs)("div",{className:"col-12 mb-2 add_condition_font",children:["Condition :"," ",(0,f.jsx)("span",{className:"fw-bold",children:(null===D||void 0===D?void 0:D.condition)||"N/A"})]}),(0,f.jsxs)("div",{className:"col-12 mb-2 add_condition_font",children:["Category :"," ",(0,f.jsx)("span",{className:"fw-bold",children:(null===D||void 0===D||null===(_=D.categoryId)||void 0===_?void 0:_.name)||"N/A"})]}),(0,f.jsxs)("div",{className:"col-12 mb-2 add_condition_font",children:["Manufacturing :"," ",(0,f.jsx)("span",{className:"fw-bold",children:(null===D||void 0===D?void 0:D.yearofManufacturer)||"N/A"})]}),(0,f.jsxs)("div",{className:"col-12 mb-1 add_condition_font d-flex align-items-start justify-content-start",title:null!==D&&void 0!==D&&D.description?D.description.replace(/<[^>]*>?/gm,""):"N/A",children:["Description:",(0,f.jsx)("span",{className:"fw-bold add_botton_zero ms-1",dangerouslySetInnerHTML:{__html:(null===D||void 0===D||null===(A=D.description)||void 0===A?void 0:A.length)>100?`${D.description.slice(0,100)}...`:(null===D||void 0===D?void 0:D.description)||"N/A"}})]})]})}),(0,f.jsx)("div",{className:"col-md-3 col-12 d-flex align-items-start justify-content-md-end justify-content-start",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"add_font_small col-12 d-flex align-items-center justify-content-md-end justify-content-start",children:(0,f.jsx)("span",{className:"ms-1 add_date_time_font fw-medium",children:(0,f.jsx)(N,{startBidDateTime:b(null===D||void 0===D?void 0:D.startBidDateTime),endBidDateTime:b(null===D||void 0===D?void 0:D.endBidDateTime),className:"p-0"})})}),(0,f.jsxs)("div",{className:"add_font_small col-12 d-flex align-items-center justify-content-md-end pt-4 justify-content-start",children:["Buy-Out Price :",(0,f.jsxs)("span",{className:"ms-1 add_date_time_font_price fw-bold",children:["$",(null===D||void 0===D?void 0:D.Ask_Price)||"10,000"]})]}),(0,f.jsxs)("div",{className:"add_font_small col-12 d-flex align-items-center justify-content-md-end pt-2 justify-content-start",children:["Start Bid Price :"," ",(0,f.jsxs)("span",{className:"ms-1 add_date_time_font_price fw-bold",children:[" ","$",null===D||void 0===D?void 0:D.Start_Bid_Price]})]})]})})]}),(0,f.jsx)("div",{className:"d-flex gap-2 mt-4 flex-wrap",children:(0,f.jsx)(c.A,{className:"d-flex align-items-center justify-content-center rounded-3 add_font_button add_btn_color_varient px-4",onClick:()=>{y(`/bmg/items/${null===D||void 0===D?void 0:D._id}`)},children:"Product Info"})})]})]})})})}),(0,f.jsxs)(i.A,{className:"mb-2 mt-3",children:[(0,f.jsx)("hr",{className:"my-3"}),(0,f.jsx)(l.A,{xs:12,className:"",children:(0,f.jsx)("h4",{className:"mx-1 mb-0 fs-6 fw-semibold",children:"Live Monitoring"})}),(null===w||void 0===w?void 0:w.length)>0?(0,f.jsx)(i.A,{className:"mx-auto mt-3",children:(0,f.jsx)("div",{className:"table-container px-0",children:(0,f.jsxs)(a.A,{responsive:!0,hover:!0,className:"custom-table mb-0",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{className:"table-header",children:[(0,f.jsx)("th",{children:"Sno"}),(0,f.jsx)("th",{children:"Customer Name"}),(0,f.jsx)("th",{children:"Amount"}),(0,f.jsx)("th",{children:"Product Name"}),(0,f.jsx)("th",{children:"Model"}),(0,f.jsx)("th",{children:"Location"}),(0,f.jsx)("th",{children:"Status"})]})}),(0,f.jsx)("tbody",{children:null===w||void 0===w?void 0:w.map(((e,s)=>{var t;let{user:d,bidingAmount:n,bidingId:i,product:l}=e;return(0,f.jsxs)("tr",{style:{borderBottom:s!==(null===w||void 0===w?void 0:w.length)-1?"1px solid #d7d2d2":"none",backgroundColor:0===s?"#C9FAD2":""},children:[(0,f.jsx)("td",{children:s+1}),(0,f.jsx)("td",{children:T(d)}),(0,f.jsx)("td",{className:"text-success",children:n?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:"text-dark",children:"$"}),n]}):"N/A"}),(0,f.jsx)("td",{children:(null===l||void 0===l?void 0:l.Product_Name)||"N/A"}),(0,f.jsx)("td",{children:(null===l||void 0===l?void 0:l.Model)||"-"}),(0,f.jsx)("td",{style:{cursor:"pointer"},children:(0,f.jsx)(r.A,{placement:"top",overlay:(0,f.jsx)(m.A,{id:"overlay-example",children:null===l||void 0===l?void 0:l.Location}),children:(0,f.jsx)("span",{className:"text-primary",children:(null===l||void 0===l||null===(t=l.Location)||void 0===t?void 0:t.slice(0,30).concat("..."))||"N/A"})})}),(0,f.jsx)("td",{className:"fw-bold "+(0===s?"text-success":1===s?"text-warning":2===s?"text-danger":"text-dark"),children:`${s+1}${$(s+1)}`})]},l.id)}))})]})})}):(0,f.jsx)("div",{className:"text-danger text-center fw-bold",children:"No Bid's Available !"}),(0,f.jsx)(u.A,{show:B,size:"md",onHide:S,centered:!0,children:(0,f.jsxs)(u.A.Body,{children:[(0,f.jsxs)(i.A,{style:{borderBottom:"3px solid #4a7652"},className:"mb-2 pb-2",children:[(0,f.jsx)(l.A,{sm:2}),(0,f.jsx)(l.A,{sm:8,children:(0,f.jsx)("div",{className:"d-flex justify-content-center",children:(0,f.jsx)("h4",{children:"Edit Auction Details"})})}),(0,f.jsx)(l.A,{sm:2,className:"d-flex justify-content-end",children:(0,f.jsx)(h.oxH,{onClick:S,className:"text-danger fs-3 cursor-pointer"})})]}),(0,f.jsxs)("form",{children:[(0,f.jsx)(i.A,{className:"px-3",children:(0,f.jsxs)("div",{className:"mb-2 col-12",children:[(0,f.jsx)("label",{htmlFor:"bidEndDate",className:"form-label",children:"Bid End Date :"}),(0,f.jsx)("input",{type:"date",className:"form-control",id:"bidEndDate",value:P,onChange:e=>{L(e.target.value)}})]})}),(0,f.jsx)(i.A,{className:"me-1",children:(0,f.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-3 mb-2 pe-3",children:[(0,f.jsx)(c.A,{className:"custom-bordered-buttons",onClick:S,children:"Close"}),(0,f.jsx)(c.A,{className:"custom-buttons",onClick:()=>{I(!1)},children:"Update"})]})})]})]})})]})]})}}}]);
//# sourceMappingURL=909.d2c4d856.chunk.js.map